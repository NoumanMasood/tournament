(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TDBs:function(e,t,n){"use strict";n.r(t);var a=n("tyNb"),r=n("ofXK"),i=n("3Pt+"),o=n("OsiS"),b=n("ZAI4"),c=n("PBUU"),s=n("nYR2"),l=n("fXoL"),d=n("Vaw3"),u=n("JqCM"),m=n("kmnG"),h=n("qFsG"),g=n("d3UM"),p=n("gren"),f=n("bTqV"),V=n("FKr1");function v(e,t){1&e&&(l.Wb(0,"p",31),l.Ic(1,"Name is required"),l.Vb())}function _(e,t){1&e&&(l.Wb(0,"p",31),l.Ic(1,"Entry Fee is required"),l.Vb())}function W(e,t){1&e&&(l.Wb(0,"p",31),l.Ic(1,"Start Date is required"),l.Vb())}function w(e,t){if(1&e&&(l.Wb(0,"mat-option",32),l.Ic(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e.value),l.Db(1),l.Kc(" ",e.viewValue," ")}}function k(e,t){1&e&&(l.Wb(0,"p",31),l.Ic(1,"Number of Players is required"),l.Vb())}function I(e,t){if(1&e&&l.Rb(0,"img",33),2&e){const e=l.ic();l.oc("src",e.imageSrc,l.Bc)}}function y(e,t){1&e&&(l.Wb(0,"p",31),l.Ic(1,"Banner is required"),l.Vb())}function x(e,t){1&e&&(l.Wb(0,"p",34),l.Ic(1,"banner should be 375 x 500 size"),l.Vb())}let D=(()=>{class e{constructor(e,t,n,a,r){this.tournamentService=e,this.storage=t,this.formBuilder=n,this.spinner=a,this.router=r,this.tournaments=[],this.error="",this.players=[{value:"8",viewValue:"8"},{value:"9",viewValue:"9"},{value:"10",viewValue:"10"},{value:"11",viewValue:"11"},{value:"12",viewValue:"12"},{value:"13",viewValue:"13"},{value:"14",viewValue:"14"},{value:"15",viewValue:"15"},{value:"16",viewValue:"16"},{value:"17",viewValue:"17"},{value:"18",viewValue:"18"},{value:"19",viewValue:"19"},{value:"20",viewValue:"20"},{value:"21",viewValue:"21"},{value:"22",viewValue:"22"},{value:"23",viewValue:"23"},{value:"24",viewValue:"24"},{value:"25",viewValue:"25"},{value:"26",viewValue:"26"},{value:"27",viewValue:"27"},{value:"28",viewValue:"28"},{value:"29",viewValue:"29"},{value:"30",viewValue:"30"},{value:"31",viewValue:"31"},{value:"32",viewValue:"32"},{value:"33",viewValue:"33"},{value:"34",viewValue:"34"},{value:"35",viewValue:"35"},{value:"36",viewValue:"36"},{value:"37",viewValue:"37"},{value:"38",viewValue:"38"},{value:"39",viewValue:"39"},{value:"40",viewValue:"40"},{value:"41",viewValue:"41"},{value:"42",viewValue:"42"},{value:"43",viewValue:"43"},{value:"44",viewValue:"44"},{value:"45",viewValue:"45"},{value:"46",viewValue:"46"},{value:"47",viewValue:"47"},{value:"48",viewValue:"48"},{value:"49",viewValue:"49"},{value:"50",viewValue:"50"},{value:"51",viewValue:"51"},{value:"52",viewValue:"52"},{value:"53",viewValue:"53"},{value:"54",viewValue:"54"},{value:"55",viewValue:"55"},{value:"56",viewValue:"56"},{value:"57",viewValue:"57"},{value:"58",viewValue:"58"},{value:"59",viewValue:"59"},{value:"60",viewValue:"60"},{value:"61",viewValue:"61"},{value:"62",viewValue:"62"},{value:"63",viewValue:"63"},{value:"64",viewValue:"64"},{value:"65",viewValue:"65"},{value:"66",viewValue:"66"},{value:"67",viewValue:"67"},{value:"68",viewValue:"68"},{value:"69",viewValue:"69"},{value:"70",viewValue:"70"},{value:"71",viewValue:"71"},{value:"72",viewValue:"72"},{value:"73",viewValue:"73"},{value:"74",viewValue:"74"},{value:"75",viewValue:"75"},{value:"76",viewValue:"76"},{value:"77",viewValue:"77"},{value:"78",viewValue:"78"},{value:"79",viewValue:"79"},{value:"80",viewValue:"80"},{value:"81",viewValue:"81"},{value:"82",viewValue:"82"},{value:"83",viewValue:"83"},{value:"84",viewValue:"84"},{value:"85",viewValue:"85"},{value:"86",viewValue:"86"},{value:"87",viewValue:"87"},{value:"88",viewValue:"88"},{value:"89",viewValue:"89"},{value:"90",viewValue:"90"},{value:"91",viewValue:"91"},{value:"92",viewValue:"92"},{value:"93",viewValue:"93"},{value:"94",viewValue:"94"},{value:"95",viewValue:"95"},{value:"96",viewValue:"96"},{value:"97",viewValue:"97"},{value:"98",viewValue:"98"},{value:"99",viewValue:"99"},{value:"100",viewValue:"100"}]}ngOnInit(){this.tournamentService.getItems().subscribe(e=>{console.log(e)}),this.formTournament=this.formBuilder.group({name:["",i.v.required],description:new i.e(""),entryFee:["",i.v.required],startDate:["",i.v.required],prizeMoney:new i.e(""),numberOfPlayer:["",i.v.required],banner:["",i.v.required]})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=()=>{const e=new Image;e.src=a.result,this.imageSrc=a.result,e.onload=()=>{const a=e.naturalHeight,r=e.naturalWidth;if(375!==r&&500!==a)return void(this.error="photo should be 100 x 100 size");this.spinner.show();const i=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(s.a)(()=>{this.downloadURL=i.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e,this.formTournament.value.banner=this.fb),this.spinner.hide(),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)}),this.error="",console.log("Width and Height",r,a)}}}onSubmit(){console.log(this.formTournament.value),this.formTournament.markAllAsTouched(),this.formTournament.invalid||(this.router.navigateByUrl("/tournament-list"),this.formTournament.value.banner=this.fb,this.tournamentService.addTournament(this.formTournament.value).then(e=>{console.log(e)}))}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(d.a),l.Qb(i.d),l.Qb(u.b),l.Qb(a.f))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:47,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["style","color: red",4,"ngIf"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","Prize Money","type","number","formControlName","prizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["class","example-full-width","style","height: 300px; width:300px",3,"src",4,"ngIf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["style","color: red","class","ml-3",4,"ngIf"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"disabled","click"],[2,"color","red"],[3,"value"],[1,"example-full-width",2,"height","300px","width","300px",3,"src"],[1,"ml-3",2,"color","red"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Add Tournament"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"form",10),l.Wb(13,"mat-form-field",11),l.Rb(14,"input",12),l.Vb(),l.Gc(15,v,2,0,"p",13),l.Wb(16,"mat-form-field",11),l.Rb(17,"input",14),l.Vb(),l.Wb(18,"mat-form-field",11),l.Rb(19,"input",15),l.Vb(),l.Gc(20,_,2,0,"p",13),l.Wb(21,"mat-form-field"),l.Rb(22,"input",16),l.Vb(),l.Gc(23,W,2,0,"p",13),l.Wb(24,"mat-form-field",11),l.Rb(25,"input",17),l.Vb(),l.Wb(26,"mat-select",18),l.Gc(27,w,2,2,"mat-option",19),l.Vb(),l.Gc(28,k,2,0,"p",13),l.Gc(29,I,1,1,"img",20),l.Wb(30,"div",21),l.Wb(31,"div"),l.Wb(32,"span",22),l.Wb(33,"span",23),l.Ic(34,"Select Banner"),l.Vb(),l.Wb(35,"span",24),l.Ic(36,"Change"),l.Vb(),l.Wb(37,"input",25),l.ec("change",(function(e){return t.onFileSelected(e)})),l.Vb(),l.Vb(),l.Rb(38,"ngx-ui-loader"),l.Gc(39,y,2,0,"p",13),l.Gc(40,x,2,0,"p",26),l.Wb(41,"a",27),l.Rb(42,"i",28),l.Ic(43," Remove"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(44,"div",29),l.Wb(45,"button",30),l.ec("click",(function(e){return t.onSubmit()})),l.Ic(46,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(12),l.oc("formGroup",t.formTournament),l.Db(3),l.oc("ngIf",t.formTournament.get("name").touched&&t.formTournament.get("name").invalid),l.Db(5),l.oc("ngIf",t.formTournament.get("entryFee").touched&&t.formTournament.get("entryFee").invalid),l.Db(3),l.oc("ngIf",t.formTournament.get("startDate").touched&&t.formTournament.get("startDate").invalid),l.Db(4),l.oc("ngForOf",t.players),l.Db(1),l.oc("ngIf",t.formTournament.get("numberOfPlayer").touched&&t.formTournament.get("numberOfPlayer").invalid),l.Db(1),l.oc("ngIf",t.imageSrc),l.Db(10),l.oc("ngIf",t.formTournament.get("banner").touched&&t.formTournament.get("banner").invalid),l.Db(1),l.oc("ngIf",t.error),l.Db(5),l.oc("disabled",!t.fb))},directives:[i.w,i.p,i.i,m.b,h.b,i.c,i.o,i.g,r.m,i.s,g.a,r.l,p.b,f.b,V.n],encapsulation:2}),e})();var M=n("Ouoq"),O=(n("ip79"),n("vDyb")),P=n("I/3d");function C(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",23),l.ec("click",(function(t){l.zc(e);const n=l.ic().$implicit;return l.ic().winner(n)})),l.Ic(1,"Declare Winner"),l.Vb()}}const R=function(e){return["../../user-detail",e]};function S(e,t){if(1&e&&(l.Wb(0,"div",13),l.Wb(1,"div",17),l.Wb(2,"div",18),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"person"),l.Vb(),l.Vb(),l.Gc(6,C,2,0,"button",19),l.Wb(7,"h2",20),l.Ic(8),l.Vb(),l.Vb(),l.Wb(9,"div",21),l.Wb(10,"div",22),l.Wb(11,"i",7),l.Ic(12,"update"),l.Vb(),l.Ic(13," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("ngIf","pending"===n.singleItem.status),l.Db(1),l.oc("routerLink",l.sc(4,R,e.id)),l.Db(1),l.Lc("",e.firstName," ",e.lastName,"")}}function T(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",24),l.ec("click",(function(t){return l.zc(e),l.ic().draw()})),l.Ic(1,"Declare As Draw"),l.Vb()}}function N(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",25),l.ec("click",(function(t){return l.zc(e),l.ic().end()})),l.Ic(1,"End Tournament"),l.Vb()}}let F=(()=>{class e{constructor(e,t,n,a,r,i){this.tournamentService=e,this.userService=t,this.storage=n,this.route=a,this.messagingService=r,this.firestore=i,this.tournaments=[],this.arr=[],this.tokenArray=[],this.userWithTokenArray=[]}ngOnInit(){this.route.params.subscribe(e=>{this.matchId=e.id}),this.route.queryParams.subscribe(e=>{this.tournamentId=e.tournamentId}),this.matches=this.tournamentService.getMatches(this.tournamentId).subscribe(e=>{this.item=e.reduce((e,t)=>{const n=t.payload.doc.id;return!(n in e)&&e.push(Object.assign({id:n},t.payload.doc.data())),e},[]),console.log(this.item,"============"),this.singleItem=this.item.find(e=>e.id==this.matchId),this.tournamentService.getUserMatches(this.matchId).subscribe(e=>{this.userMatches=e,this.filteredMatches=this.userMatches.filter(e=>e.matchId==this.matchId),this.userService.getUsers().subscribe(e=>{this.users=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.userData=this.users.map(e=>this.filteredMatches.map(t=>e.id===t.userId&&!this.arr.some(t=>t.id===e.id)&&this.arr.push(e))),this.users.map(e=>{e.deviceToken&&(this.tokenArray.push(e.deviceToken),this.userWithTokenArray.push(e.id))})})}),this.tournamentService.getSingleMatch(this.tournamentId,this.matchId).subscribe(e=>{console.log(e),this.singleMatch=Object.assign({id:e.payload.id},e.payload.data())}),this.tournamentService.getTournaments().subscribe(e=>{this.tournament=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleTournament=this.tournament.find(e=>e.id=this.tournamentId)})})}getUser(e){return this.tournamentService.getUser(e).subscribe(e=>{this.oneUser=Object.assign({id:e.payload.id},e.payload.data())}),this.oneUser}end(){3===this.singleMatch.bracket&&this.tournamentService.winner(this.tournamentId,this.matchId,{endTournamentDate:Date.now()})}winner(e){console.log(this.arr),this.looser=this.arr.find(t=>t.id!==e.id),this.tournamentService.winner(this.tournamentId,this.matchId,{userId:e.id,status:"completed",winner:e.firstName}),this.tournamentService.winUser(e.id,{wins:e.wins?e.wins+1:1}),this.tournamentService.winUser(this.looser.id,{loses:this.looser.loses?this.looser.loses+1:1}),3===this.singleMatch.bracket&&this.tournamentService.winUser(e.id,{winnings:e.winnings?e.winnings+this.singleTournament.prizeMoney:this.singleTournament.prizeMoney}),this.sendNotification(),this.ngOnInit()}draw(){this.tournamentService.winner(this.tournamentId,this.matchId,{status:"completed"}),this.arr.map(e=>{this.tournamentService.winUser(e.id,{draws:e.draws?e.draws+1:1})})}sendNotification(){this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Winner",body:"You have won the match"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Winner",body:"You have won the match"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(s.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(M.a),l.Qb(d.a),l.Qb(a.a),l.Qb(O.a),l.Qb(P.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:45,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],["mat-raised-button","","class","btn btn-danger","style","margin-left: 300px;",3,"click",4,"ngIf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"col-12"],[2,"width","500px","height","200px",3,"src"],["mat-raised-button","","class","btn btn-danger",3,"click",4,"ngIf"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],["mat-raised-button","","class","btn btn-warning",3,"click",4,"ngIf"],[1,"card-title",3,"routerLink"],[1,"card-footer"],[1,"stats"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-raised-button","",1,"btn","btn-danger",2,"margin-left","300px",3,"click"],["mat-raised-button","",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Match Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Gc(13,S,14,6,"div",10),l.Vb(),l.Wb(14,"div",2),l.Gc(15,T,2,0,"button",11),l.Vb(),l.Wb(16,"div",12),l.Wb(17,"div",2),l.Wb(18,"h3",13),l.Wb(19,"strong"),l.Ic(20,"Match Start Time:"),l.Vb(),l.Ic(21),l.Vb(),l.Wb(22,"h3",13),l.Wb(23,"strong"),l.Ic(24,"Match End Time:"),l.Vb(),l.Ic(25),l.Vb(),l.Vb(),l.Wb(26,"div",2),l.Wb(27,"h3",14),l.Wb(28,"strong"),l.Ic(29,"Winner:"),l.Vb(),l.Ic(30),l.Vb(),l.Vb(),l.Wb(31,"div",2),l.Wb(32,"h3",14),l.Wb(33,"strong"),l.Ic(34,"Proof 1:"),l.Vb(),l.Ic(35," \xa0"),l.Vb(),l.Rb(36,"img",15),l.Vb(),l.Wb(37,"div",2),l.Wb(38,"h3",14),l.Wb(39,"strong"),l.Ic(40,"Proof 2:"),l.Vb(),l.Ic(41," \xa0"),l.Vb(),l.Rb(42,"img",15),l.Vb(),l.Wb(43,"div",2),l.Gc(44,N,2,0,"button",16),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(13),l.oc("ngForOf",t.arr),l.Db(2),l.oc("ngIf","pending"===t.singleItem.status),l.Db(6),l.Kc(" \xa0",t.singleItem.startTime,""),l.Db(4),l.Kc(" \xa0",t.singleItem.endTime,""),l.Db(5),l.Kc(" \xa0",t.singleItem.winner,""),l.Db(6),l.pc("src",t.singleItem.proof1,l.Bc),l.Db(6),l.pc("src",t.singleItem.proof2,l.Bc),l.Db(2),l.oc("ngIf",3===t.singleItem.bracket))},directives:[r.l,r.m,a.g,f.b],encapsulation:2}),e})();var L=n("0IaG");const U=function(e){return["../../match-detail",e]},z=function(e){return{tournamentId:e}};function J(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",73),l.Wb(2,"div",74),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(6,"h2",75),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",76),l.Wb(9,"div",77),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("routerLink",l.sc(3,U,e.id))("queryParams",l.sc(5,z,n.id)),l.Db(1),l.Kc("Match ",e.Match,"")}}function j(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",73),l.Wb(2,"div",74),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(6,"h2",75),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",76),l.Wb(9,"div",77),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("routerLink",l.sc(3,U,e.id))("queryParams",l.sc(5,z,n.id)),l.Db(1),l.Kc("Match ",e.Match,"")}}const G=function(){return["../../user-notification"]},K=function(e){return{userId:e}};function Q(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",70),l.Ic(2),l.Vb(),l.Wb(3,"td",70),l.Ic(4),l.Vb(),l.Wb(5,"td",70),l.Ic(6),l.Vb(),l.Wb(7,"td",70),l.Ic(8),l.Vb(),l.Wb(9,"td",70),l.Ic(10),l.Vb(),l.Wb(11,"td",78),l.Wb(12,"button",79),l.Wb(13,"i",80),l.Ic(14,"notifications"),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit;l.Db(2),l.Jc(e.firstName),l.Db(2),l.Jc(e.lastName),l.Db(2),l.Jc(e.psnName),l.Db(2),l.Jc(e.phoneNumber),l.Db(2),l.Jc(e.email),l.Db(2),l.Gb("btn btn-success ",e[5],""),l.Db(1),l.oc("routerLink",l.rc(10,G))("queryParams",l.sc(11,K,e.id))}}let A=(()=>{class e{constructor(e,t,n,a,r,i,o){this.tournamentService=e,this.userService=t,this.storage=n,this.messagingService=a,this.route=r,this.firestore=i,this.dialog=o,this.tournaments=[],this.userMatches=[],this.userData=[],this.tokenArray=[],this.userWithTokenArray=[]}ngOnInit(){this.formMessageUser=new i.h({title:new i.e(""),body:new i.e("")}),this.tableData1={headerRow:["First Name","Last Name","PSN Name","Phone Number","Email",""]},this.route.params.subscribe(e=>{this.id=e.id}),this.matches=this.tournamentService.getMatches(this.id).subscribe(e=>{this.match=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.pendingMatches=this.match.filter(e=>"pending"==e.status),this.completeMatches=this.match.filter(e=>"completed"==e.status),this.match.map(e=>{this.tournamentService.getUserMatches(e.id).subscribe(t=>{t.length>0&&this.userMatches.push(t),this.users=this.userService.getUsers().subscribe(t=>{this.users=t.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.users.map(t=>this.userMatches.length>0&&this.userMatches.map(n=>n.map(n=>{t.id==n.userId&&this.userData.push(Object.assign({match:e},t))}))),this.userData.map(e=>{e.deviceToken&&(this.tokenArray.push(e.deviceToken),this.userWithTokenArray.push(e.id))}),console.log(this.tokenArray,"----------")})})})}),this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleItem=this.item.find(e=>e.id=this.id),console.log(this.matches)})}sendNotification(){this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],this.formMessageUser.value),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:this.formMessageUser.value.title,body:this.formMessageUser.value.body},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}getUser(e){return this.userData&&this.userData.filter(t=>t.id==e)}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(s.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(M.a),l.Qb(d.a),l.Qb(O.a),l.Qb(a.a),l.Qb(P.a),l.Qb(L.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:300,vars:34,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"col-12","mx-4"],[1,"col-12",2,"width","900px","height","250px","max-width","900px",3,"src"],[1,"col-6"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Title","type","text","formControlName","title"],["matInput","","placeholder","Body","type","text","formControlName","body"],["mat-raised-button","",1,"btn","btn-success",3,"click"],[1,"card-header"],["role","tablist",1,"nav","nav-pills","nav-pills-rose"],[1,"nav-item"],["data-toggle","tab","href","#link1","role","tablist",1,"nav-link","active"],["data-toggle","tab","href","#link2","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link3","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link4","role","tablist",1,"nav-link"],[1,"tab-content","tab-space"],["id","link1",1,"tab-pane","active"],["class","col-6",4,"ngFor","ngForOf"],["id","link2",1,"tab-pane"],[1,"tournament-bracket","tournament-bracket--rounded"],[1,"tournament-bracket__round","tournament-bracket__round--quarterfinals"],[1,"tournament-bracket__list"],[1,"tournament-bracket__item"],["tabindex","0",1,"tournament-bracket__match"],[1,"tournament-bracket__table"],[1,"tournament-bracket__caption"],["datetime","1998-02-18"],[1,"sr-only"],[1,"tournament-bracket__content"],[1,"tournament-bracket__team","tournament-bracket__team--winner"],[1,"tournament-bracket__country"],["title","Canada",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ca"],[1,"tournament-bracket__score"],[1,"tournament-bracket__number"],[1,"tournament-bracket__team"],["title","Kazakhstan",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-kz"],["title","Czech Republic",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-cz"],["title","Unitede states of America",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-us"],["title","Finland",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-fi"],["title","Sweden",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-se"],["title","Russia",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ru"],["title","Belarus",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-by"],[1,"tournament-bracket__round","tournament-bracket__round--semifinals"],["datetime","1998-02-20"],[1,"tournament-bracket__round","tournament-bracket__round--gold"],["datetime","1998-02-22"],["aria-label","Gold medal",1,"tournament-bracket__medal","tournament-bracket__medal--gold","fa","fa-trophy"],["aria-label","Silver medal",1,"tournament-bracket__medal","tournament-bracket__medal--silver","fa","fa-trophy"],["id","link3",1,"tab-pane"],["id","link4",1,"tab-pane"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink","queryParams"],[1,"card-footer"],[1,"stats"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink","queryParams"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Tournament Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Wb(13,"div",10),l.Wb(14,"div",2),l.Rb(15,"img",11),l.Vb(),l.Wb(16,"div",2),l.Wb(17,"h3",12),l.Wb(18,"strong"),l.Ic(19,"Tournament Name:"),l.Vb(),l.Ic(20),l.Vb(),l.Wb(21,"h3",12),l.Wb(22,"strong"),l.Ic(23,"Description:"),l.Vb(),l.Ic(24),l.Vb(),l.Vb(),l.Wb(25,"div",2),l.Wb(26,"h3",12),l.Wb(27,"strong"),l.Ic(28,"Entry Fee:"),l.Vb(),l.Ic(29),l.Vb(),l.Wb(30,"h3",12),l.Wb(31,"strong"),l.Ic(32,"Start Date:"),l.Vb(),l.Ic(33),l.Vb(),l.Vb(),l.Wb(34,"div",2),l.Wb(35,"h3",12),l.Wb(36,"strong"),l.Ic(37,"Prize Money:"),l.Vb(),l.Ic(38),l.Vb(),l.Wb(39,"h3",12),l.Wb(40,"strong"),l.Ic(41,"Number Of players:"),l.Vb(),l.Ic(42),l.Vb(),l.Vb(),l.Wb(43,"h3"),l.Ic(44,"\xa0Want to Send Notification to all users?"),l.Vb(),l.Wb(45,"form",13),l.Wb(46,"mat-form-field",14),l.Rb(47,"input",15),l.Vb(),l.Wb(48,"mat-form-field",14),l.Rb(49,"input",16),l.Vb(),l.Vb(),l.Wb(50,"button",17),l.ec("click",(function(e){return t.sendNotification()})),l.Ic(51,"Send Notification To all Users"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(52,"div",4),l.Rb(53,"div",18),l.Wb(54,"div",9),l.Wb(55,"ul",19),l.Wb(56,"li",20),l.Wb(57,"a",21),l.Ic(58," Completed Matches "),l.Vb(),l.Vb(),l.Wb(59,"li",20),l.Wb(60,"a",22),l.Ic(61," LeaderBoard "),l.Vb(),l.Vb(),l.Wb(62,"li",20),l.Wb(63,"a",23),l.Ic(64," Pending Matches "),l.Vb(),l.Vb(),l.Wb(65,"li",20),l.Wb(66,"a",24),l.Ic(67," Players "),l.Vb(),l.Vb(),l.Vb(),l.Wb(68,"div",25),l.Wb(69,"div",26),l.Wb(70,"div",2),l.Gc(71,J,13,7,"div",27),l.Vb(),l.Vb(),l.Wb(72,"div",28),l.Wb(73,"div"),l.Wb(74,"div",29),l.Wb(75,"div",30),l.Wb(76,"ul",31),l.Wb(77,"li",32),l.Wb(78,"div",33),l.Wb(79,"table",34),l.Wb(80,"caption",35),l.Wb(81,"time",36),l.Ic(82,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(83,"thead",37),l.Wb(84,"tr"),l.Wb(85,"th"),l.Ic(86,"Country"),l.Vb(),l.Wb(87,"th"),l.Ic(88,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(89,"tbody",38),l.Wb(90,"tr",39),l.Wb(91,"td",40),l.Wb(92,"abbr",41),l.Ic(93),l.Vb(),l.Rb(94,"span",42),l.Vb(),l.Wb(95,"td",43),l.Wb(96,"span",44),l.Ic(97,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(98,"tr",45),l.Wb(99,"td",40),l.Wb(100,"abbr",46),l.Ic(101),l.Vb(),l.Rb(102,"span",47),l.Vb(),l.Wb(103,"td",43),l.Wb(104,"span",44),l.Ic(105,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(106,"li",32),l.Wb(107,"div",33),l.Wb(108,"table",34),l.Wb(109,"caption",35),l.Wb(110,"time",36),l.Ic(111,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(112,"thead",37),l.Wb(113,"tr"),l.Wb(114,"th"),l.Ic(115,"Country"),l.Vb(),l.Wb(116,"th"),l.Ic(117,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(118,"tbody",38),l.Wb(119,"tr",39),l.Wb(120,"td",40),l.Wb(121,"abbr",48),l.Ic(122),l.Vb(),l.Rb(123,"span",49),l.Vb(),l.Wb(124,"td",43),l.Wb(125,"span",44),l.Ic(126,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(127,"tr",45),l.Wb(128,"td",40),l.Wb(129,"abbr",50),l.Ic(130),l.Vb(),l.Rb(131,"span",51),l.Vb(),l.Wb(132,"td",43),l.Wb(133,"span",44),l.Ic(134,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(135,"li",32),l.Wb(136,"div",33),l.Wb(137,"table",34),l.Wb(138,"caption",35),l.Wb(139,"time",36),l.Ic(140,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(141,"thead",37),l.Wb(142,"tr"),l.Wb(143,"th"),l.Ic(144,"Country"),l.Vb(),l.Wb(145,"th"),l.Ic(146,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(147,"tbody",38),l.Wb(148,"tr",39),l.Wb(149,"td",40),l.Wb(150,"abbr",52),l.Ic(151),l.Vb(),l.Rb(152,"span",53),l.Vb(),l.Wb(153,"td",43),l.Wb(154,"span",44),l.Ic(155,"2"),l.Vb(),l.Vb(),l.Vb(),l.Wb(156,"tr",45),l.Wb(157,"td",40),l.Wb(158,"abbr",54),l.Ic(159),l.Vb(),l.Rb(160,"span",55),l.Vb(),l.Wb(161,"td",43),l.Wb(162,"span",44),l.Ic(163,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(164,"li",32),l.Wb(165,"div",33),l.Wb(166,"table",34),l.Wb(167,"caption",35),l.Wb(168,"time",36),l.Ic(169,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(170,"thead",37),l.Wb(171,"tr"),l.Wb(172,"th"),l.Ic(173,"Country"),l.Vb(),l.Wb(174,"th"),l.Ic(175,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(176,"tbody",38),l.Wb(177,"tr",39),l.Wb(178,"td",40),l.Wb(179,"abbr",56),l.Ic(180),l.Vb(),l.Rb(181,"span",57),l.Vb(),l.Wb(182,"td",43),l.Wb(183,"span",44),l.Ic(184,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(185,"tr",45),l.Wb(186,"td",40),l.Wb(187,"abbr",58),l.Ic(188),l.Vb(),l.Rb(189,"span",59),l.Vb(),l.Wb(190,"td",43),l.Wb(191,"span",44),l.Ic(192,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(193,"div",60),l.Wb(194,"ul",31),l.Wb(195,"li",32),l.Wb(196,"div",33),l.Wb(197,"table",34),l.Wb(198,"caption",35),l.Wb(199,"time",61),l.Ic(200,"20 February 1998"),l.Vb(),l.Vb(),l.Wb(201,"thead",37),l.Wb(202,"tr"),l.Wb(203,"th"),l.Ic(204,"Country"),l.Vb(),l.Wb(205,"th"),l.Ic(206,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(207,"tbody",38),l.Wb(208,"tr",45),l.Wb(209,"td",40),l.Rb(210,"span",42),l.Vb(),l.Wb(211,"td",43),l.Wb(212,"span",44),l.Ic(213,"1"),l.Vb(),l.Vb(),l.Vb(),l.Wb(214,"tr",39),l.Wb(215,"td",40),l.Rb(216,"span",49),l.Vb(),l.Wb(217,"td",43),l.Wb(218,"span",44),l.Ic(219,"2"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(220,"li",32),l.Wb(221,"div",33),l.Wb(222,"table",34),l.Wb(223,"caption",35),l.Wb(224,"time",61),l.Ic(225,"20 February 1998"),l.Vb(),l.Vb(),l.Wb(226,"thead",37),l.Wb(227,"tr"),l.Wb(228,"th"),l.Ic(229,"Country"),l.Vb(),l.Wb(230,"th"),l.Ic(231,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(232,"tbody",38),l.Wb(233,"tr",45),l.Wb(234,"td",40),l.Rb(235,"span",53),l.Vb(),l.Wb(236,"td",43),l.Wb(237,"span",44),l.Ic(238,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(239,"tr",39),l.Wb(240,"td",40),l.Rb(241,"span",57),l.Vb(),l.Wb(242,"td",43),l.Wb(243,"span",44),l.Ic(244,"7"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(245,"div",62),l.Wb(246,"ul",31),l.Wb(247,"li",32),l.Wb(248,"div",33),l.Wb(249,"table",34),l.Wb(250,"caption",35),l.Wb(251,"time",63),l.Ic(252,"22 February 1998"),l.Vb(),l.Vb(),l.Wb(253,"thead",37),l.Wb(254,"tr"),l.Wb(255,"th"),l.Ic(256,"Country"),l.Vb(),l.Wb(257,"th"),l.Ic(258,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(259,"tbody",38),l.Wb(260,"tr",39),l.Wb(261,"td",40),l.Rb(262,"abbr",48),l.Rb(263,"span",49),l.Vb(),l.Wb(264,"td",43),l.Wb(265,"span",44),l.Ic(266,"1"),l.Vb(),l.Rb(267,"span",64),l.Vb(),l.Vb(),l.Wb(268,"tr",45),l.Wb(269,"td",40),l.Rb(270,"abbr",56),l.Rb(271,"span",57),l.Vb(),l.Wb(272,"td",43),l.Wb(273,"span",44),l.Ic(274,"0"),l.Vb(),l.Rb(275,"span",65),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(276,"div",66),l.Wb(277,"div",2),l.Gc(278,j,13,7,"div",27),l.Vb(),l.Vb(),l.Wb(279,"div",67),l.Wb(280,"div",68),l.Wb(281,"table",69),l.Wb(282,"thead"),l.Wb(283,"tr"),l.Wb(284,"th",70),l.Ic(285),l.Vb(),l.Wb(286,"th",70),l.Ic(287),l.Vb(),l.Wb(288,"th",70),l.Ic(289),l.Vb(),l.Wb(290,"th",70),l.Ic(291),l.Vb(),l.Wb(292,"th",70),l.Ic(293),l.Vb(),l.Wb(294,"th",70),l.Ic(295),l.Vb(),l.Wb(296,"th",71),l.Ic(297),l.Vb(),l.Vb(),l.Vb(),l.Wb(298,"tbody"),l.Gc(299,Q,15,13,"tr",72),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(15),l.pc("src",null==t.singleItem?null:t.singleItem.banner,l.Bc),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.name,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.description,""),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.entryFee,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.startDate,""),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.prizeMoney,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.numberOfPlayer,""),l.Db(3),l.oc("formGroup",t.formMessageUser),l.Db(26),l.oc("ngForOf",t.completeMatches),l.Db(22),l.Lc("",t.userData&&(null==t.userData[0]?null:t.userData[0].firstName)," ",t.userData&&(null==t.userData[0]?null:t.userData[0].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[1]?null:t.userData[1].firstName)," ",t.userData&&(null==t.userData[1]?null:t.userData[1].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[2]?null:t.userData[2].firstName)," ",t.userData&&(null==t.userData[2]?null:t.userData[2].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[3]?null:t.userData[3].firstName)," ",t.userData&&(null==t.userData[3]?null:t.userData[3].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[4]?null:t.userData[4].firstName)," ",t.userData&&(null==t.userData[4]?null:t.userData[4].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[5]?null:t.userData[5].firstName)," ",t.userData&&(null==t.userData[5]?null:t.userData[5].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[6]?null:t.userData[6].firstName)," ",t.userData&&(null==t.userData[6]?null:t.userData[6].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[7]?null:t.userData[7].firstName)," ",t.userData&&(null==t.userData[7]?null:t.userData[7].lastName),""),l.Db(90),l.oc("ngForOf",t.pendingMatches),l.Db(7),l.Jc(t.tableData1.headerRow[0]),l.Db(2),l.Jc(t.tableData1.headerRow[1]),l.Db(2),l.Jc(t.tableData1.headerRow[2]),l.Db(2),l.Jc(t.tableData1.headerRow[3]),l.Db(2),l.Jc(t.tableData1.headerRow[4]),l.Db(2),l.Jc(t.tableData1.headerRow[5]),l.Db(2),l.Jc(t.tableData1.headerRow[6]),l.Db(2),l.oc("ngForOf",t.userData))},directives:[i.w,i.p,i.i,m.b,h.b,i.c,i.o,i.g,f.b,r.l,a.g],styles:['@import"https://fonts.googleapis.com/css?family=Work+Sans:300,400,600,700&subset=latin-ext";\n@breakpoint-sm : 38em;@breakpoint-md : 52em;@breakpoint-lg : 72em;*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}html[_ngcontent-%COMP%]{font-size:15px}@media(min-width:576px){html[_ngcontent-%COMP%]{font-size:14px;font-size:15px;font-size:16px}}body[_ngcontent-%COMP%]{background-color:#f1f1f1;font-family:Work Sans,Helvetica Neue,Arial,sans-serif}.container[_ngcontent-%COMP%]{width:90%;min-width:18em;margin:20px auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5em}h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:2em}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.tournament-bracket[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media(min-width:576px){.tournament-bracket[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}}.tournament-bracket__round[_ngcontent-%COMP%]{display:block;margin-left:-3px;-webkit-box-flex:1;flex:1}.tournament-bracket__round-title[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;font-weight:400;text-align:center;font-style:italic;margin-bottom:.5em}.tournament-bracket__list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-flow:row wrap;-webkit-box-pack:center;justify-content:center;height:100%;min-height:100%;border-bottom:1px dashed #e5e5e5;padding-bottom:2em;margin-bottom:2em;-webkit-transition:padding .2s ease-in-out,margin .2s ease-in-out;transition:padding .2s ease-in-out,margin .2s ease-in-out}@media(max-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{padding-bottom:1em;margin-bottom:1em}}@media(min-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0;border-right:1px dashed #e5e5e5;border-bottom:0}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__list[_ngcontent-%COMP%]{border:0}.tournament-bracket__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;position:relative;padding:2% 0;width:48%;-webkit-transition:padding .2s linear;transition:padding .2s linear}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-right:2%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n){margin-left:2%}.tournament-bracket__item[_ngcontent-%COMP%]:after{-webkit-transition:width .2s linear;transition:width .2s linear}@media(max-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-left:0;margin-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1em;width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin:0}.tournament-bracket__item[_ngcontent-%COMP%]:after{position:absolute;right:0;content:"";display:block;width:1em;height:45%;border-right:2px solid #9e9e9e}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{border-top-right-radius:.6em}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{border-bottom-right-radius:.6em}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-right:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__round[_ngcontent-%COMP%]:nth-last-child(2)   .tournament-bracket__item[_ngcontent-%COMP%]:after{border-radius:0;border-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1.5em}.tournament-bracket__item[_ngcontent-%COMP%]:after{width:1.5em}}.tournament-bracket__match[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;background-color:#fff;padding:1em;border:1px solid transparent;border-radius:.1em;box-shadow:0 2px 0 0 #e5e5e5;outline:none;cursor:pointer;-webkit-transition:padding .2s ease-in-out,border .2s linear;transition:padding .2s ease-in-out,border .2s linear}.tournament-bracket__match[_ngcontent-%COMP%]:focus{border-color:#2196f3}.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transition:all .2s linear;transition:all .2s linear}@media(max-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]{padding:.75em .5em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{position:absolute;left:0;z-index:1;content:"";display:block;width:1em;height:10%;border-left:2px solid #9e9e9e}.tournament-bracket__match[_ngcontent-%COMP%]:before{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:.6em}.tournament-bracket__match[_ngcontent-%COMP%]:after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:after{border-top-left-radius:.6em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{width:1.5em}.tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket__match[_ngcontent-%COMP%]:after{-webkit-transform:translateY(-1px);transform:translateY(-1px)}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:0}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:before, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__content[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.tournament-bracket__content[_ngcontent-%COMP%]:after{content:":";width:1em;text-align:center;padding:.2em .1em}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]:after{-webkit-box-ordinal-group:2;order:1}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{width:50%;-webkit-box-ordinal-group:1;order:0;text-align:right}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2;-webkit-box-pack:end;justify-content:flex-end}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse;-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{width:50%;-webkit-box-ordinal-group:3;order:2;text-align:left}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{-webkit-box-align:start;align-items:flex-start}}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-pack:start;justify-content:flex-start}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__code[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1}.tournament-bracket__table[_ngcontent-%COMP%]{width:100%}.tournament-bracket__caption[_ngcontent-%COMP%]{font-size:.8rem;color:#bdbdbd;font-weight:300;padding-bottom:.75em}.tournament-bracket__team[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;-webkit-box-pack:justify;justify-content:space-between}@media(min-width:576px){.tournament-bracket__team[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse}}.tournament-bracket__country[_ngcontent-%COMP%]{font-size:.95rem;display:-webkit-box;display:flex;margin-top:.5em;-webkit-box-align:center;align-items:center}@media(max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{margin-top:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.tournament-bracket__country[_ngcontent-%COMP%]   .tournament-bracket__code[_ngcontent-%COMP%]{margin-top:.2em}}.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .5em;color:#212121;font-weight:600;text-transform:uppercase;border:0;text-decoration:none;cursor:help;-webkit-transition:padding .2s ease-in-out;transition:padding .2s ease-in-out}@media(max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .25em}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0}}.tournament-bracket__score[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;padding-left:.75em}.tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__score[_ngcontent-%COMP%]{padding-right:.75em}.tournament-bracket__number[_ngcontent-%COMP%]{display:inline-block;padding:.2em .4em;font-size:.95rem;background-color:#f5f5f5;border-bottom:.075em solid;border-color:spin(shade(#f5f5f5,10%),-10)}.tournament-bracket__team--winner[_ngcontent-%COMP%]   .tournament-bracket__number[_ngcontent-%COMP%]{background-color:#fff176;border-color:spin(shade(#fff176,2%),-10)}.tournament-bracket__medal[_ngcontent-%COMP%]{padding:0 .5em}.tournament-bracket__medal--gold[_ngcontent-%COMP%]{color:gold}.tournament-bracket__medal--silver[_ngcontent-%COMP%]{color:silver}.tournament-bracket__medal--bronze[_ngcontent-%COMP%]{color:#cd7f32}']}),e})();function q(e,t){if(1&e&&(l.Wb(0,"mat-option",31),l.Ic(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e.value),l.Db(1),l.Kc(" ",e.viewValue," ")}}let $=(()=>{class e{constructor(e,t,n){this.tournamentService=e,this.storage=t,this.route=n,this.tournaments=[],this.players=[{value:"0",viewValue:"0"},{value:"1",viewValue:"1"},{value:"2",viewValue:"2"},{value:"3",viewValue:"3"},{value:"4",viewValue:"4"},{value:"5",viewValue:"5"},{value:"6",viewValue:"6"}]}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id}),this.formTournament=new i.h({name:new i.e(""),description:new i.e(""),entryFee:new i.e(""),startDate:new i.e(""),prizeMoney:new i.e(""),numberOfPlayer:new i.e(""),banner:new i.e("")}),this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleItem=this.item.find(e=>e.id=this.id),this.formTournament.patchValue({name:this.singleItem.name,description:this.singleItem.description,entryFee:this.singleItem.entryFee,startDate:this.singleItem.startDate,prizeMoney:this.singleItem.prizeMoney,numberOfPlayer:this.singleItem.numberOfPlayer,banner:this.singleItem.banner}),console.log(e)})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(s.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(d.a),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:42,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","Prize Money","type","number","formControlName","prizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"fileinput-new","thumbnail"],["src","./assets/img/image_placeholder.jpg","alt","..."],[1,"fileinput-preview","fileinput-exists","thumbnail"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"click"],[3,"value"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Edit Tournament"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"form",10),l.Wb(13,"mat-form-field",11),l.Rb(14,"input",12),l.Vb(),l.Wb(15,"mat-form-field",11),l.Rb(16,"input",13),l.Vb(),l.Wb(17,"mat-form-field",11),l.Rb(18,"input",14),l.Vb(),l.Wb(19,"mat-form-field"),l.Rb(20,"input",15),l.Vb(),l.Wb(21,"mat-form-field",11),l.Rb(22,"input",16),l.Vb(),l.Wb(23,"mat-select",17),l.Gc(24,q,2,2,"mat-option",18),l.Vb(),l.Wb(25,"div",19),l.Wb(26,"div",20),l.Rb(27,"img",21),l.Vb(),l.Rb(28,"div",22),l.Wb(29,"div"),l.Wb(30,"span",23),l.Wb(31,"span",24),l.Ic(32,"Select Banner"),l.Vb(),l.Wb(33,"span",25),l.Ic(34,"Change"),l.Vb(),l.Wb(35,"input",26),l.ec("change",(function(e){return t.onFileSelected(e)})),l.Vb(),l.Vb(),l.Wb(36,"a",27),l.Rb(37,"i",28),l.Ic(38," Remove"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(39,"div",29),l.Wb(40,"button",30),l.ec("click",(function(e){return t.onSubmit()})),l.Ic(41,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(12),l.oc("formGroup",t.formTournament),l.Db(12),l.oc("ngForOf",t.players))},directives:[i.w,i.p,i.i,m.b,h.b,i.c,i.o,i.g,i.s,g.a,r.l,f.b,V.n],encapsulation:2}),e})();const B=function(e){return["../tournament-detail",e]},Y=function(e){return["../tournament-edit",e]};function E(e,t){if(1&e){const e=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td",16),l.Ic(2),l.Vb(),l.Wb(3,"td",16),l.Ic(4),l.Vb(),l.Wb(5,"td",16),l.Ic(6),l.Vb(),l.Wb(7,"td",16),l.Ic(8),l.Vb(),l.Wb(9,"td",16),l.Ic(10),l.Vb(),l.Wb(11,"td",16),l.Ic(12),l.Vb(),l.Wb(13,"td",13),l.Rb(14,"img",17),l.Vb(),l.Wb(15,"td",18),l.Wb(16,"button",19),l.Wb(17,"i",20),l.Ic(18,"edit"),l.Vb(),l.Vb(),l.Wb(19,"button",19),l.Wb(20,"i",21),l.ec("click",(function(n){l.zc(e);const a=t.$implicit;return l.ic().deleteTournament(a.id)})),l.Ic(21,"close"),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){const e=t.$implicit;l.Db(1),l.oc("routerLink",l.sc(20,B,e.id)),l.Db(1),l.Jc(e.name),l.Db(1),l.oc("routerLink",l.sc(22,B,e.id)),l.Db(1),l.Jc(e.description),l.Db(1),l.oc("routerLink",l.sc(24,B,e.id)),l.Db(1),l.Jc(e.entryFee),l.Db(1),l.oc("routerLink",l.sc(26,B,e.id)),l.Db(1),l.Jc(e.prizeMoney),l.Db(1),l.oc("routerLink",l.sc(28,B,e.id)),l.Db(1),l.Jc(e.startDate),l.Db(1),l.oc("routerLink",l.sc(30,B,e.id)),l.Db(1),l.Jc(e.numberOfPlayer),l.Db(2),l.pc("src",e.banner,l.Bc),l.Db(2),l.Gb("btn btn-success ",e[5],""),l.Db(1),l.oc("routerLink",l.sc(32,Y,e.id)),l.Db(2),l.Gb("btn btn-danger ",e[5],"")}}const X=function(e){return["../../user-detail",e]};function H(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",13),l.Wb(2,"div",14),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"person"),l.Vb(),l.Vb(),l.Wb(6,"h2",15),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",16),l.Wb(9,"div",17),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit;l.Db(6),l.oc("routerLink",l.sc(3,X,e.id)),l.Db(1),l.Lc("",e.firstName," ",e.lastName,"")}}const Z=[{path:"",children:[{path:"dashboard",component:D},{path:"tournament-list",component:(()=>{class e{constructor(e){this.tournamentService=e,this.tournamentList=[]}ngOnInit(){this.tableData1={headerRow:["Name","Description","Entry Fee","Prize Money","Start Date","Number Of players","Banner",""]},this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),console.log(e)})}deleteTournament(e){this.tournamentService.deleteTournament(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:36,vars:9,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["mat-raised-button","","type","button","routerLink","../dashboard",1,"btn","btn-danger","text-right",2,"left","700px"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[2,"width","100px","height","50px",3,"src"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"button",4),l.Ic(5,"Add Tournament"),l.Vb(),l.Wb(6,"div",5),l.Wb(7,"div",6),l.Wb(8,"div",7),l.Wb(9,"i",8),l.Ic(10,"emoji_events"),l.Vb(),l.Vb(),l.Wb(11,"h4",9),l.Ic(12,"Tournament List"),l.Vb(),l.Vb(),l.Wb(13,"div",10),l.Wb(14,"div",11),l.Wb(15,"table",12),l.Wb(16,"thead"),l.Wb(17,"tr"),l.Wb(18,"th",13),l.Ic(19),l.Vb(),l.Wb(20,"th",13),l.Ic(21),l.Vb(),l.Wb(22,"th",13),l.Ic(23),l.Vb(),l.Wb(24,"th",13),l.Ic(25),l.Vb(),l.Wb(26,"th",13),l.Ic(27),l.Vb(),l.Wb(28,"th",13),l.Ic(29),l.Vb(),l.Wb(30,"th",13),l.Ic(31),l.Vb(),l.Wb(32,"th",14),l.Ic(33),l.Vb(),l.Vb(),l.Vb(),l.Wb(34,"tbody"),l.Gc(35,E,22,34,"tr",15),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(19),l.Jc(t.tableData1.headerRow[0]),l.Db(2),l.Jc(t.tableData1.headerRow[1]),l.Db(2),l.Jc(t.tableData1.headerRow[2]),l.Db(2),l.Jc(t.tableData1.headerRow[3]),l.Db(2),l.Jc(t.tableData1.headerRow[4]),l.Db(2),l.Jc(t.tableData1.headerRow[5]),l.Db(2),l.Jc(t.tableData1.headerRow[6]),l.Db(2),l.Jc(t.tableData1.headerRow[7]),l.Db(2),l.oc("ngForOf",t.item))},directives:[f.b,a.g,r.l],encapsulation:2}),e})()},{path:"tournament-edit/:id",component:$},{path:"tournament-detail/:id",component:A},{path:"match-detail/:id",component:F},{path:"user-detail/:id",component:(()=>{class e{constructor(e,t,n,a,r){this.tournamentService=e,this.userService=t,this.storage=n,this.route=a,this.firestore=r,this.tournaments=[]}ngOnInit(){this.route.params.subscribe(e=>{this.userId=e.id}),this.tournamentService.getUser(this.userId).subscribe(e=>{this.user=Object.assign({id:e.payload.id},e.payload.data())})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(s.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(c.a),l.Qb(M.a),l.Qb(d.a),l.Qb(a.a),l.Qb(P.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:42,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink"],[1,"card-footer"],[1,"stats"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"person"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Player Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Gc(13,H,13,5,"div",10),l.Vb(),l.Wb(14,"div",11),l.Wb(15,"div",2),l.Wb(16,"h3",12),l.Wb(17,"strong"),l.Ic(18,"First Name:"),l.Vb(),l.Ic(19),l.Vb(),l.Wb(20,"h3",12),l.Wb(21,"strong"),l.Ic(22,"Last Name:"),l.Vb(),l.Ic(23),l.Vb(),l.Vb(),l.Wb(24,"div",2),l.Wb(25,"h3",12),l.Wb(26,"strong"),l.Ic(27,"Email:"),l.Vb(),l.Ic(28),l.Vb(),l.Wb(29,"h3",12),l.Wb(30,"strong"),l.Ic(31,"PSN Username:"),l.Vb(),l.Ic(32),l.Vb(),l.Vb(),l.Wb(33,"div",2),l.Wb(34,"h3",12),l.Wb(35,"strong"),l.Ic(36,"Phone Number:"),l.Vb(),l.Ic(37),l.Vb(),l.Wb(38,"h3",12),l.Wb(39,"strong"),l.Ic(40,"Password:"),l.Vb(),l.Ic(41),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(13),l.oc("ngForOf",t.userData),l.Db(6),l.Kc(" \xa0",t.user.firstName,""),l.Db(4),l.Kc(" \xa0",t.user.lastName,""),l.Db(5),l.Kc(" \xa0",t.user.email,""),l.Db(4),l.Kc(" \xa0",t.user.psnName,""),l.Db(5),l.Kc(" \xa0",t.user.phoneNumber,""),l.Db(4),l.Kc(" \xa0",t.user.password,""))},directives:[r.l,a.g],encapsulation:2}),e})()}]}];n.d(t,"DashboardModule",(function(){return ee}));let ee=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[r.c,a.j.forChild(Z),i.j,o.a,b.b]]}),e})()},ip79:function(e,t){}}]);