(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TDBs:function(e,t,n){"use strict";n.r(t);var a=n("tyNb"),i=n("ofXK"),r=n("3Pt+"),o=n("OsiS"),s=n("ZAI4"),b=n("PBUU"),c=n("nYR2"),l=n("fXoL"),u=n("Vaw3"),d=n("JqCM"),m=n("kmnG"),h=n("qFsG"),g=n("d3UM"),v=n("gren"),p=n("bTqV"),f=n("FKr1");function V(e,t){1&e&&(l.Wb(0,"p",33),l.Ic(1,"Name is required"),l.Vb())}function _(e,t){1&e&&(l.Wb(0,"p",33),l.Ic(1,"Entry Fee is required"),l.Vb())}function W(e,t){1&e&&(l.Wb(0,"p",33),l.Ic(1,"Start Date is required"),l.Vb())}function w(e,t){if(1&e&&(l.Wb(0,"mat-option",34),l.Ic(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e.value),l.Db(1),l.Kc(" ",e.viewValue," ")}}function k(e,t){1&e&&(l.Wb(0,"p",33),l.Ic(1,"Number of Players is required"),l.Vb())}function I(e,t){if(1&e&&l.Rb(0,"img",35),2&e){const e=l.ic();l.oc("src",e.imageSrc,l.Bc)}}function y(e,t){1&e&&(l.Wb(0,"p",33),l.Ic(1,"Banner is required"),l.Vb())}function M(e,t){1&e&&(l.Wb(0,"p",36),l.Ic(1,"banner should be 375 x 500 size"),l.Vb())}let D=(()=>{class e{constructor(e,t,n,a,i){this.tournamentService=e,this.storage=t,this.formBuilder=n,this.spinner=a,this.router=i,this.tournaments=[],this.error="",this.players=[{value:"2",viewValue:"2"},{value:"8",viewValue:"8"},{value:"9",viewValue:"9"},{value:"10",viewValue:"10"},{value:"11",viewValue:"11"},{value:"12",viewValue:"12"},{value:"13",viewValue:"13"},{value:"14",viewValue:"14"},{value:"15",viewValue:"15"},{value:"16",viewValue:"16"},{value:"17",viewValue:"17"},{value:"18",viewValue:"18"},{value:"19",viewValue:"19"},{value:"20",viewValue:"20"},{value:"21",viewValue:"21"},{value:"22",viewValue:"22"},{value:"23",viewValue:"23"},{value:"24",viewValue:"24"},{value:"25",viewValue:"25"},{value:"26",viewValue:"26"},{value:"27",viewValue:"27"},{value:"28",viewValue:"28"},{value:"29",viewValue:"29"},{value:"30",viewValue:"30"},{value:"31",viewValue:"31"},{value:"32",viewValue:"32"},{value:"33",viewValue:"33"},{value:"34",viewValue:"34"},{value:"35",viewValue:"35"},{value:"36",viewValue:"36"},{value:"37",viewValue:"37"},{value:"38",viewValue:"38"},{value:"39",viewValue:"39"},{value:"40",viewValue:"40"},{value:"41",viewValue:"41"},{value:"42",viewValue:"42"},{value:"43",viewValue:"43"},{value:"44",viewValue:"44"},{value:"45",viewValue:"45"},{value:"46",viewValue:"46"},{value:"47",viewValue:"47"},{value:"48",viewValue:"48"},{value:"49",viewValue:"49"},{value:"50",viewValue:"50"},{value:"51",viewValue:"51"},{value:"52",viewValue:"52"},{value:"53",viewValue:"53"},{value:"54",viewValue:"54"},{value:"55",viewValue:"55"},{value:"56",viewValue:"56"},{value:"57",viewValue:"57"},{value:"58",viewValue:"58"},{value:"59",viewValue:"59"},{value:"60",viewValue:"60"},{value:"61",viewValue:"61"},{value:"62",viewValue:"62"},{value:"63",viewValue:"63"},{value:"64",viewValue:"64"},{value:"65",viewValue:"65"},{value:"66",viewValue:"66"},{value:"67",viewValue:"67"},{value:"68",viewValue:"68"},{value:"69",viewValue:"69"},{value:"70",viewValue:"70"},{value:"71",viewValue:"71"},{value:"72",viewValue:"72"},{value:"73",viewValue:"73"},{value:"74",viewValue:"74"},{value:"75",viewValue:"75"},{value:"76",viewValue:"76"},{value:"77",viewValue:"77"},{value:"78",viewValue:"78"},{value:"79",viewValue:"79"},{value:"80",viewValue:"80"},{value:"81",viewValue:"81"},{value:"82",viewValue:"82"},{value:"83",viewValue:"83"},{value:"84",viewValue:"84"},{value:"85",viewValue:"85"},{value:"86",viewValue:"86"},{value:"87",viewValue:"87"},{value:"88",viewValue:"88"},{value:"89",viewValue:"89"},{value:"90",viewValue:"90"},{value:"91",viewValue:"91"},{value:"92",viewValue:"92"},{value:"93",viewValue:"93"},{value:"94",viewValue:"94"},{value:"95",viewValue:"95"},{value:"96",viewValue:"96"},{value:"97",viewValue:"97"},{value:"98",viewValue:"98"},{value:"99",viewValue:"99"},{value:"100",viewValue:"100"}]}ngOnInit(){this.tournamentService.getItems().subscribe(e=>{console.log(e)}),this.formTournament=this.formBuilder.group({name:["",r.v.required],description:new r.e(""),entryFee:["",r.v.required],startDate:["",r.v.required],prizeMoney:new r.e(""),secondPrizeMoney:new r.e(""),thirdPrizeMoney:new r.e(""),numberOfPlayer:["",r.v.required],banner:["",r.v.required],open:!0})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=()=>{const e=new Image;e.src=a.result,this.imageSrc=a.result,e.onload=()=>{const a=e.naturalHeight,i=e.naturalWidth;if(375!==i&&500!==a)return void(this.error="photo should be 100 x 100 size");this.spinner.show();const r=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=r.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e,this.formTournament.value.banner=this.fb),this.spinner.hide(),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)}),this.error="",console.log("Width and Height",i,a)}}}onSubmit(){console.log(this.formTournament.value),this.formTournament.markAllAsTouched(),this.formTournament.invalid||(this.router.navigateByUrl("/tournament-list"),this.formTournament.value.banner=this.fb,this.tournamentService.addTournament(this.formTournament.value).then(e=>{console.log(e)}))}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(b.a),l.Qb(u.a),l.Qb(r.d),l.Qb(d.b),l.Qb(a.f))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:51,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["style","color: red",4,"ngIf"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","First Prize Money","type","number","formControlName","prizeMoney"],["matInput","","placeholder","Second Prize Money","type","number","formControlName","secondPrizeMoney"],["matInput","","placeholder","Third Prize Money","type","number","formControlName","thirdPrizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["class","example-full-width","style","height: 300px; width:300px",3,"src",4,"ngIf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["style","color: red","class","ml-3",4,"ngIf"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"disabled","click"],[2,"color","red"],[3,"value"],[1,"example-full-width",2,"height","300px","width","300px",3,"src"],[1,"ml-3",2,"color","red"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Add Tournament"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"form",10),l.Wb(13,"mat-form-field",11),l.Rb(14,"input",12),l.Vb(),l.Gc(15,V,2,0,"p",13),l.Wb(16,"mat-form-field",11),l.Rb(17,"input",14),l.Vb(),l.Wb(18,"mat-form-field",11),l.Rb(19,"input",15),l.Vb(),l.Gc(20,_,2,0,"p",13),l.Wb(21,"mat-form-field"),l.Rb(22,"input",16),l.Vb(),l.Gc(23,W,2,0,"p",13),l.Wb(24,"mat-form-field",11),l.Rb(25,"input",17),l.Vb(),l.Wb(26,"mat-form-field",11),l.Rb(27,"input",18),l.Vb(),l.Wb(28,"mat-form-field",11),l.Rb(29,"input",19),l.Vb(),l.Wb(30,"mat-select",20),l.Gc(31,w,2,2,"mat-option",21),l.Vb(),l.Gc(32,k,2,0,"p",13),l.Gc(33,I,1,1,"img",22),l.Wb(34,"div",23),l.Wb(35,"div"),l.Wb(36,"span",24),l.Wb(37,"span",25),l.Ic(38,"Select Banner"),l.Vb(),l.Wb(39,"span",26),l.Ic(40,"Change"),l.Vb(),l.Wb(41,"input",27),l.ec("change",(function(e){return t.onFileSelected(e)})),l.Vb(),l.Vb(),l.Rb(42,"ngx-ui-loader"),l.Gc(43,y,2,0,"p",13),l.Gc(44,M,2,0,"p",28),l.Wb(45,"a",29),l.Rb(46,"i",30),l.Ic(47," Remove"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(48,"div",31),l.Wb(49,"button",32),l.ec("click",(function(e){return t.onSubmit()})),l.Ic(50,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(12),l.oc("formGroup",t.formTournament),l.Db(3),l.oc("ngIf",t.formTournament.get("name").touched&&t.formTournament.get("name").invalid),l.Db(5),l.oc("ngIf",t.formTournament.get("entryFee").touched&&t.formTournament.get("entryFee").invalid),l.Db(3),l.oc("ngIf",t.formTournament.get("startDate").touched&&t.formTournament.get("startDate").invalid),l.Db(8),l.oc("ngForOf",t.players),l.Db(1),l.oc("ngIf",t.formTournament.get("numberOfPlayer").touched&&t.formTournament.get("numberOfPlayer").invalid),l.Db(1),l.oc("ngIf",t.imageSrc),l.Db(10),l.oc("ngIf",t.formTournament.get("banner").touched&&t.formTournament.get("banner").invalid),l.Db(1),l.oc("ngIf",t.error),l.Db(5),l.oc("disabled",!t.fb))},directives:[r.w,r.p,r.i,m.b,h.b,r.c,r.o,r.g,i.m,r.s,g.a,i.l,v.b,p.b,f.n],encapsulation:2}),e})();var P=n("Ouoq"),x=(n("ip79"),n("vDyb")),O=n("I/3d");function C(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",24),l.ec("click",(function(t){l.zc(e);const n=l.ic().$implicit;return l.ic().winner(n)})),l.Ic(1,"Declare Match Winner"),l.Vb()}}function T(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",25),l.ec("click",(function(t){l.zc(e);const n=l.ic().$implicit;return l.ic().tournamentWinner(n)})),l.Ic(1,"Declare As Tournament Winner"),l.Vb()}}const S=function(e){return["../../user-detail",e]};function R(e,t){if(1&e&&(l.Wb(0,"div",13),l.Wb(1,"div",17),l.Wb(2,"div",18),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"person"),l.Vb(),l.Vb(),l.Gc(6,C,2,0,"button",19),l.Wb(7,"h2",20),l.Ic(8),l.Vb(),l.Gc(9,T,2,0,"button",21),l.Vb(),l.Wb(10,"div",22),l.Wb(11,"div",23),l.Wb(12,"i",7),l.Ic(13,"update"),l.Vb(),l.Ic(14," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("ngIf","completed"!==n.singleItem.status),l.Db(1),l.oc("routerLink",l.sc(5,S,e.id)),l.Db(1),l.Lc("",e.firstName," ",e.lastName,""),l.Db(1),l.oc("ngIf","completed"!==n.singleItem.status)}}function N(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",26),l.ec("click",(function(t){return l.zc(e),l.ic().draw()})),l.Ic(1,"Declare As Draw"),l.Vb()}}function z(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",27),l.ec("click",(function(t){return l.zc(e),l.ic().end()})),l.Ic(1,"End Tournament"),l.Vb()}}let F=(()=>{class e{constructor(e,t,n,a,i,r){this.tournamentService=e,this.userService=t,this.storage=n,this.route=a,this.messagingService=i,this.firestore=r,this.tournaments=[],this.arr=[],this.tokenArray=[],this.userWithTokenArray=[]}ngOnInit(){this.route.params.subscribe(e=>{this.matchId=e.id}),this.route.queryParams.subscribe(e=>{this.tournamentId=e.tournamentId}),this.matches=this.tournamentService.getMatches(this.tournamentId).subscribe(e=>{this.item=e.reduce((e,t)=>{const n=t.payload.doc.id;return!(n in e)&&e.push(Object.assign({id:n},t.payload.doc.data())),e},[]),this.maxMatch=Math.max.apply(Math,this.item.map((function(e){return e.Match}))),this.latestMatch=this.item.find(e=>e.Match==this.maxMatch),this.tournamentService.getUserMatches(this.latestMatch.id).subscribe(e=>{this.latestUserMatch=e}),console.log(this.item,"============"),this.singleItem=this.item.find(e=>e.id==this.matchId),this.tournamentService.getUserMatches(this.matchId).subscribe(e=>{this.userMatches=e,this.filteredMatches=this.userMatches.filter(e=>e.matchId==this.matchId),this.userService.getUsers().subscribe(e=>{this.users=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.userData=this.users.map(e=>this.filteredMatches.map(t=>e.id===t.userId&&!this.arr.some(t=>t.id===e.id)&&this.arr.push(e))),this.users.map(e=>{e.deviceToken&&(this.tokenArray.push(e.deviceToken),this.userWithTokenArray.push(e.id))})})}),this.tournamentService.getSingleMatch(this.tournamentId,this.matchId).subscribe(e=>{console.log(e),this.singleMatch=Object.assign({id:e.payload.id},e.payload.data())}),this.tournamentService.getTournaments().subscribe(e=>{this.tournament=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleTournament=this.tournament.find(e=>e.id==this.tournamentId)})})}getUser(e){return this.tournamentService.getUser(e).subscribe(e=>{this.oneUser=Object.assign({id:e.payload.id},e.payload.data())}),this.oneUser}end(){3===this.singleMatch.bracket&&this.tournamentService.winner(this.tournamentId,this.matchId,{endTournamentDate:Date.now()})}winner(e){console.log(this.arr),this.looser=this.arr.find(t=>t.id!==e.id),this.tournamentService.winner(this.tournamentId,this.matchId,{userId:e.id,status:"completed",winner:e.firstName}),this.tournamentService.winUser(e.id,{wins:e.wins?e.wins+1:1}),this.looser&&this.tournamentService.winUser(this.looser.id,{loses:this.looser.loses?this.looser.loses+1:1}),2===this.latestUserMatch.length&&this.tournamentService.createMatch(this.tournamentId,{Match:this.maxMatch+1,startTime:this.singleTournament.startDate,status:"pending"}).then(t=>{this.newMatchId=t.id,console.log(t,"kkkkkkkkkkkk"),this.tournamentService.addUserMatches(e.id,this.newMatchId).then(e=>{console.log(e,"kkkkkkkkkkkk")})}),1===this.latestUserMatch.length&&this.tournamentService.addUserMatches(e.id,this.latestMatch.id).then(e=>{console.log(e,"kkkkkkkkkkkk")}),this.sendNotification(),setTimeout(()=>{this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Reminder",body:"Reminder your match will start in next 3 minutes"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Reminder",body:"Reminder your match will start in next 3 minutes"},data:{type:"refresh_data"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})},42e4),this.ngOnInit()}draw(){const e=new Date(Date.now());e.setSeconds(0,0);const t=e.toISOString().replace(/:00.000Z/,"");this.tournamentService.winner(this.tournamentId,this.matchId,{status:"pending",startTime:t,proof1:"",proof2:""}),this.arr.map(e=>{this.tournamentService.winUser(e.id,{draws:e.draws?e.draws+1:1})}),this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Match Restarted",body:"Your match has restarted"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Match Restarted",body:"Your match has restarted"},data:{type:"refresh_data"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)}),setTimeout(()=>{this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Reminder",body:"Reminder your match will start in next 3 minutes"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Reminder",body:"Reminder your match will start in next 3 minutes"},data:{type:"refresh_data"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})},42e4)}tournamentWinner(e){this.tournamentService.editTournament(this.tournamentId,{winnerId:e.id,open:!1,endTournamentDate:Date.now()}),this.tournamentService.winner(this.tournamentId,this.matchId,{status:"completed"}),this.tournamentService.addChampion({tournamentId:this.tournamentId,tournamentTitle:this.singleTournament.name,tournamentDescription:this.singleTournament.description,tournamentStartDate:this.singleTournament.startDate,tournamentPrizePool:this.singleTournament.prizeMoney,winnerId:e.id,winnerName:e.firstName+" "+e.lastName,winnerImage:e.profilePic}),this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Won the Tournament",body:"Congratulations! You have won the tournament"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Won the Tournament",body:"Congratulations! You have won the tournament"},data:{type:"refresh_data"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}sendNotification(){this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],{title:"Winner",body:"You have won the match"}),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Winner",body:"You have won the match"},data:{type:"refresh_data"},to:e}).subscribe(e=>{console.log(e,"llllllllllll")}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}sendNotificationAfter(){}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(b.a),l.Qb(P.a),l.Qb(u.a),l.Qb(a.a),l.Qb(x.a),l.Qb(O.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:45,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],["mat-raised-button","","class","btn btn-danger","style","float: right;",3,"click",4,"ngIf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"col-12"],[2,"width","500px","height","200px",3,"src"],["mat-raised-button","","class","btn btn-danger",3,"click",4,"ngIf"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],["mat-raised-button","","class","btn btn-warning",3,"click",4,"ngIf"],[1,"card-title",3,"routerLink"],["mat-raised-button","","class","btn btn-success",3,"click",4,"ngIf"],[1,"card-footer"],[1,"stats"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["mat-raised-button","",1,"btn","btn-danger",2,"float","right",3,"click"],["mat-raised-button","",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Match Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Gc(13,R,15,7,"div",10),l.Vb(),l.Wb(14,"div",2),l.Gc(15,N,2,0,"button",11),l.Vb(),l.Wb(16,"div",12),l.Wb(17,"div",2),l.Wb(18,"h3",13),l.Wb(19,"strong"),l.Ic(20,"Match Start Time:"),l.Vb(),l.Ic(21),l.Vb(),l.Wb(22,"h3",13),l.Wb(23,"strong"),l.Ic(24,"Match End Time:"),l.Vb(),l.Ic(25),l.Vb(),l.Vb(),l.Wb(26,"div",2),l.Wb(27,"h3",14),l.Wb(28,"strong"),l.Ic(29,"Winner:"),l.Vb(),l.Ic(30),l.Vb(),l.Vb(),l.Wb(31,"div",2),l.Wb(32,"h3",14),l.Wb(33,"strong"),l.Ic(34,"Proof 1:"),l.Vb(),l.Ic(35," \xa0"),l.Vb(),l.Rb(36,"img",15),l.Vb(),l.Wb(37,"div",2),l.Wb(38,"h3",14),l.Wb(39,"strong"),l.Ic(40,"Proof 2:"),l.Vb(),l.Ic(41," \xa0"),l.Vb(),l.Rb(42,"img",15),l.Vb(),l.Wb(43,"div",2),l.Gc(44,z,2,0,"button",16),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(13),l.oc("ngForOf",t.arr),l.Db(2),l.oc("ngIf","completed"!==t.singleItem.status),l.Db(6),l.Kc(" \xa0",t.singleItem.startTime,""),l.Db(4),l.Kc(" \xa0",t.singleItem.endTime,""),l.Db(5),l.Kc(" \xa0",t.singleItem.winner,""),l.Db(6),l.pc("src",t.singleItem.proof1,l.Bc),l.Db(6),l.pc("src",t.singleItem.proof2,l.Bc),l.Db(2),l.oc("ngIf",3===t.singleItem.bracket))},directives:[i.l,i.m,a.g,p.b],encapsulation:2}),e})();var U=n("0IaG");function L(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",74),l.ec("click",(function(t){return l.zc(e),l.ic().openTournament()})),l.Ic(1,"Open Tournament"),l.Vb()}}function A(e,t){if(1&e){const e=l.Xb();l.Wb(0,"button",74),l.ec("click",(function(t){return l.zc(e),l.ic().closeTournament()})),l.Ic(1,"Close Tournament"),l.Vb()}}const G=function(e){return["../../match-detail",e]},q=function(e){return{tournamentId:e}};function J(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",75),l.Wb(2,"div",76),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(6,"h2",77),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",78),l.Wb(9,"div",79),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("routerLink",l.sc(3,G,e.id))("queryParams",l.sc(5,q,n.id)),l.Db(1),l.Kc("Match ",e.Match,"")}}function j(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",75),l.Wb(2,"div",76),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"sports_soccer"),l.Vb(),l.Vb(),l.Wb(6,"h2",77),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",78),l.Wb(9,"div",79),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit,n=l.ic();l.Db(6),l.oc("routerLink",l.sc(3,G,e.id))("queryParams",l.sc(5,q,n.id)),l.Db(1),l.Kc("Match ",e.Match,"")}}const K=function(){return["../../user-notification"]},Q=function(e){return{userId:e}};function $(e,t){if(1&e&&(l.Wb(0,"tr"),l.Wb(1,"td",71),l.Ic(2),l.Vb(),l.Wb(3,"td",71),l.Ic(4),l.Vb(),l.Wb(5,"td",71),l.Ic(6),l.Vb(),l.Wb(7,"td",71),l.Ic(8),l.Vb(),l.Wb(9,"td",71),l.Ic(10),l.Vb(),l.Wb(11,"td",80),l.Wb(12,"button",81),l.Wb(13,"i",82),l.Ic(14,"notifications"),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit;l.Db(2),l.Jc(e.firstName),l.Db(2),l.Jc(e.lastName),l.Db(2),l.Jc(e.psnName),l.Db(2),l.Jc(e.phoneNumber),l.Db(2),l.Jc(e.email),l.Db(2),l.Gb("btn btn-success ",e[5],""),l.Db(1),l.oc("routerLink",l.rc(10,K))("queryParams",l.sc(11,Q,e.id))}}let B=(()=>{class e{constructor(e,t,n,a,i,r,o){this.tournamentService=e,this.userService=t,this.storage=n,this.messagingService=a,this.route=i,this.firestore=r,this.dialog=o,this.tournaments=[],this.userMatches=[],this.userData=[],this.tokenArray=[],this.userWithTokenArray=[]}ngOnInit(){this.formMessageUser=new r.h({title:new r.e(""),body:new r.e("")}),this.tableData1={headerRow:["First Name","Last Name","PSN Name","Phone Number","Email",""]},this.route.params.subscribe(e=>{this.id=e.id}),this.matches=this.tournamentService.getMatches(this.id).subscribe(e=>{this.match=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.pendingMatches=this.match.filter(e=>"completed"!==e.status),this.completeMatches=this.match.filter(e=>"completed"==e.status),this.match.map(e=>{this.tournamentService.getUserMatches(e.id).subscribe(t=>{t.length>0&&this.userMatches.push(t),this.users=this.userService.getUsers().subscribe(t=>{this.users=t.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.users.map(t=>this.userMatches.length>0&&this.userMatches.map(n=>n.map(n=>{t.id==n.userId&&(this.userData.find(e=>e.id===n.userId)||this.userData.push(Object.assign({match:e},t)))}))),this.userData.map(e=>{e.deviceToken&&(this.tokenArray.push(e.deviceToken),this.userWithTokenArray.push(e.id))}),console.log(this.tokenArray,"----------")})})})}),this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleItem=this.item.find(e=>e.id===this.id)})}openTournament(){this.tournamentService.editTournament(this.id,{open:!0}).then(e=>{}),this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],this.formMessageUser.value),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Tournament Open",body:`${this.singleItem.name} has been opened. Please contact admin`},data:{type:"refresh_data"},to:e}).subscribe(e=>{}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}closeTournament(){this.tournamentService.editTournament(this.id,{open:!1}).then(e=>{}),this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],this.formMessageUser.value),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:"Tournament Closed",body:`${this.singleItem.name} has been closed. Please contact admin`},data:{type:"refresh_data"},to:e}).subscribe(e=>{}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}sendNotification(){this.tokenArray.map((e,t)=>{this.messagingService.requestPermission(this.userWithTokenArray[t],this.formMessageUser.value),this.messagingService.receiveMessage(),this.message=this.messagingService.currentMessage,this.tournamentService.postMessages({notification:{title:this.formMessageUser.value.title,body:this.formMessageUser.value.body},data:{type:"refresh_data"},to:e}).subscribe(e=>{}),this.messagingService.updateToken(this.userWithTokenArray[t],e)},e=>{console.error("Unable to get permission to notify.",e)})}getUser(e){return this.userData&&this.userData.filter(t=>t.id==e)}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(b.a),l.Qb(P.a),l.Qb(u.a),l.Qb(x.a),l.Qb(a.a),l.Qb(O.a),l.Qb(U.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:311,vars:38,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"col-12","mx-4"],[1,"col-12",2,"width","900px","height","250px","max-width","900px",3,"src"],[1,"col-6"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Title","type","text","formControlName","title"],["matInput","","placeholder","Body","type","text","formControlName","body"],["mat-raised-button","",1,"btn","btn-success",3,"click"],["mat-raised-button","","class","btn btn-danger",3,"click",4,"ngIf"],[1,"card-header"],["role","tablist",1,"nav","nav-pills","nav-pills-rose"],[1,"nav-item"],["data-toggle","tab","href","#link1","role","tablist",1,"nav-link","active"],["data-toggle","tab","href","#link2","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link3","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link4","role","tablist",1,"nav-link"],[1,"tab-content","tab-space"],["id","link1",1,"tab-pane","active"],["class","col-6",4,"ngFor","ngForOf"],["id","link2",1,"tab-pane"],[1,"tournament-bracket","tournament-bracket--rounded"],[1,"tournament-bracket__round","tournament-bracket__round--quarterfinals"],[1,"tournament-bracket__list"],[1,"tournament-bracket__item"],["tabindex","0",1,"tournament-bracket__match"],[1,"tournament-bracket__table"],[1,"tournament-bracket__caption"],["datetime","1998-02-18"],[1,"sr-only"],[1,"tournament-bracket__content"],[1,"tournament-bracket__team","tournament-bracket__team--winner"],[1,"tournament-bracket__country"],["title","Canada",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ca"],[1,"tournament-bracket__score"],[1,"tournament-bracket__number"],[1,"tournament-bracket__team"],["title","Kazakhstan",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-kz"],["title","Czech Republic",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-cz"],["title","Unitede states of America",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-us"],["title","Finland",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-fi"],["title","Sweden",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-se"],["title","Russia",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ru"],["title","Belarus",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-by"],[1,"tournament-bracket__round","tournament-bracket__round--semifinals"],["datetime","1998-02-20"],[1,"tournament-bracket__round","tournament-bracket__round--gold"],["datetime","1998-02-22"],["aria-label","Gold medal",1,"tournament-bracket__medal","tournament-bracket__medal--gold","fa","fa-trophy"],["aria-label","Silver medal",1,"tournament-bracket__medal","tournament-bracket__medal--silver","fa","fa-trophy"],["id","link3",1,"tab-pane"],["id","link4",1,"tab-pane"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"btn","btn-danger",3,"click"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink","queryParams"],[1,"card-footer"],[1,"stats"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink","queryParams"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Tournament Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Wb(13,"div",10),l.Wb(14,"div",2),l.Rb(15,"img",11),l.Vb(),l.Wb(16,"div",2),l.Wb(17,"h3",12),l.Wb(18,"strong"),l.Ic(19,"Tournament Name:"),l.Vb(),l.Ic(20),l.Vb(),l.Wb(21,"h3",12),l.Wb(22,"strong"),l.Ic(23,"Description:"),l.Vb(),l.Ic(24),l.Vb(),l.Vb(),l.Wb(25,"div",2),l.Wb(26,"h3",12),l.Wb(27,"strong"),l.Ic(28,"Entry Fee:"),l.Vb(),l.Ic(29),l.Vb(),l.Wb(30,"h3",12),l.Wb(31,"strong"),l.Ic(32,"Start Date:"),l.Vb(),l.Ic(33),l.Vb(),l.Vb(),l.Wb(34,"div",2),l.Wb(35,"h3",12),l.Wb(36,"strong"),l.Ic(37,"First Prize Money:"),l.Vb(),l.Ic(38),l.Vb(),l.Wb(39,"h3",12),l.Wb(40,"strong"),l.Ic(41,"Second Prize Money:"),l.Vb(),l.Ic(42),l.Vb(),l.Vb(),l.Wb(43,"div",2),l.Wb(44,"h3",12),l.Wb(45,"strong"),l.Ic(46,"Third Prize Money:"),l.Vb(),l.Ic(47),l.Vb(),l.Wb(48,"h3",12),l.Wb(49,"strong"),l.Ic(50,"Number Of players:"),l.Vb(),l.Ic(51),l.Vb(),l.Vb(),l.Wb(52,"h3"),l.Ic(53,"\xa0Want to Send Notification to all users?"),l.Vb(),l.Wb(54,"form",13),l.Wb(55,"mat-form-field",14),l.Rb(56,"input",15),l.Vb(),l.Wb(57,"mat-form-field",14),l.Rb(58,"input",16),l.Vb(),l.Vb(),l.Wb(59,"button",17),l.ec("click",(function(e){return t.sendNotification()})),l.Ic(60,"Send Notification To all Users"),l.Vb(),l.Gc(61,L,2,0,"button",18),l.Gc(62,A,2,0,"button",18),l.Vb(),l.Vb(),l.Vb(),l.Wb(63,"div",4),l.Rb(64,"div",19),l.Wb(65,"div",9),l.Wb(66,"ul",20),l.Wb(67,"li",21),l.Wb(68,"a",22),l.Ic(69," Completed Matches "),l.Vb(),l.Vb(),l.Wb(70,"li",21),l.Wb(71,"a",23),l.Ic(72," LeaderBoard "),l.Vb(),l.Vb(),l.Wb(73,"li",21),l.Wb(74,"a",24),l.Ic(75," Pending Matches "),l.Vb(),l.Vb(),l.Wb(76,"li",21),l.Wb(77,"a",25),l.Ic(78," Players "),l.Vb(),l.Vb(),l.Vb(),l.Wb(79,"div",26),l.Wb(80,"div",27),l.Wb(81,"div",2),l.Gc(82,J,13,7,"div",28),l.Vb(),l.Vb(),l.Wb(83,"div",29),l.Wb(84,"div"),l.Wb(85,"div",30),l.Wb(86,"div",31),l.Wb(87,"ul",32),l.Wb(88,"li",33),l.Wb(89,"div",34),l.Wb(90,"table",35),l.Wb(91,"caption",36),l.Wb(92,"time",37),l.Ic(93,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(94,"thead",38),l.Wb(95,"tr"),l.Wb(96,"th"),l.Ic(97,"Country"),l.Vb(),l.Wb(98,"th"),l.Ic(99,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(100,"tbody",39),l.Wb(101,"tr",40),l.Wb(102,"td",41),l.Wb(103,"abbr",42),l.Ic(104),l.Vb(),l.Rb(105,"span",43),l.Vb(),l.Wb(106,"td",44),l.Wb(107,"span",45),l.Ic(108,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(109,"tr",46),l.Wb(110,"td",41),l.Wb(111,"abbr",47),l.Ic(112),l.Vb(),l.Rb(113,"span",48),l.Vb(),l.Wb(114,"td",44),l.Wb(115,"span",45),l.Ic(116,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(117,"li",33),l.Wb(118,"div",34),l.Wb(119,"table",35),l.Wb(120,"caption",36),l.Wb(121,"time",37),l.Ic(122,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(123,"thead",38),l.Wb(124,"tr"),l.Wb(125,"th"),l.Ic(126,"Country"),l.Vb(),l.Wb(127,"th"),l.Ic(128,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(129,"tbody",39),l.Wb(130,"tr",40),l.Wb(131,"td",41),l.Wb(132,"abbr",49),l.Ic(133),l.Vb(),l.Rb(134,"span",50),l.Vb(),l.Wb(135,"td",44),l.Wb(136,"span",45),l.Ic(137,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(138,"tr",46),l.Wb(139,"td",41),l.Wb(140,"abbr",51),l.Ic(141),l.Vb(),l.Rb(142,"span",52),l.Vb(),l.Wb(143,"td",44),l.Wb(144,"span",45),l.Ic(145,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(146,"li",33),l.Wb(147,"div",34),l.Wb(148,"table",35),l.Wb(149,"caption",36),l.Wb(150,"time",37),l.Ic(151,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(152,"thead",38),l.Wb(153,"tr"),l.Wb(154,"th"),l.Ic(155,"Country"),l.Vb(),l.Wb(156,"th"),l.Ic(157,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(158,"tbody",39),l.Wb(159,"tr",40),l.Wb(160,"td",41),l.Wb(161,"abbr",53),l.Ic(162),l.Vb(),l.Rb(163,"span",54),l.Vb(),l.Wb(164,"td",44),l.Wb(165,"span",45),l.Ic(166,"2"),l.Vb(),l.Vb(),l.Vb(),l.Wb(167,"tr",46),l.Wb(168,"td",41),l.Wb(169,"abbr",55),l.Ic(170),l.Vb(),l.Rb(171,"span",56),l.Vb(),l.Wb(172,"td",44),l.Wb(173,"span",45),l.Ic(174,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(175,"li",33),l.Wb(176,"div",34),l.Wb(177,"table",35),l.Wb(178,"caption",36),l.Wb(179,"time",37),l.Ic(180,"18 February 1998"),l.Vb(),l.Vb(),l.Wb(181,"thead",38),l.Wb(182,"tr"),l.Wb(183,"th"),l.Ic(184,"Country"),l.Vb(),l.Wb(185,"th"),l.Ic(186,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(187,"tbody",39),l.Wb(188,"tr",40),l.Wb(189,"td",41),l.Wb(190,"abbr",57),l.Ic(191),l.Vb(),l.Rb(192,"span",58),l.Vb(),l.Wb(193,"td",44),l.Wb(194,"span",45),l.Ic(195,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(196,"tr",46),l.Wb(197,"td",41),l.Wb(198,"abbr",59),l.Ic(199),l.Vb(),l.Rb(200,"span",60),l.Vb(),l.Wb(201,"td",44),l.Wb(202,"span",45),l.Ic(203,"1"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(204,"div",61),l.Wb(205,"ul",32),l.Wb(206,"li",33),l.Wb(207,"div",34),l.Wb(208,"table",35),l.Wb(209,"caption",36),l.Wb(210,"time",62),l.Ic(211,"20 February 1998"),l.Vb(),l.Vb(),l.Wb(212,"thead",38),l.Wb(213,"tr"),l.Wb(214,"th"),l.Ic(215,"Country"),l.Vb(),l.Wb(216,"th"),l.Ic(217,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(218,"tbody",39),l.Wb(219,"tr",46),l.Wb(220,"td",41),l.Rb(221,"span",43),l.Vb(),l.Wb(222,"td",44),l.Wb(223,"span",45),l.Ic(224,"1"),l.Vb(),l.Vb(),l.Vb(),l.Wb(225,"tr",40),l.Wb(226,"td",41),l.Rb(227,"span",50),l.Vb(),l.Wb(228,"td",44),l.Wb(229,"span",45),l.Ic(230,"2"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(231,"li",33),l.Wb(232,"div",34),l.Wb(233,"table",35),l.Wb(234,"caption",36),l.Wb(235,"time",62),l.Ic(236,"20 February 1998"),l.Vb(),l.Vb(),l.Wb(237,"thead",38),l.Wb(238,"tr"),l.Wb(239,"th"),l.Ic(240,"Country"),l.Vb(),l.Wb(241,"th"),l.Ic(242,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(243,"tbody",39),l.Wb(244,"tr",46),l.Wb(245,"td",41),l.Rb(246,"span",54),l.Vb(),l.Wb(247,"td",44),l.Wb(248,"span",45),l.Ic(249,"4"),l.Vb(),l.Vb(),l.Vb(),l.Wb(250,"tr",40),l.Wb(251,"td",41),l.Rb(252,"span",58),l.Vb(),l.Wb(253,"td",44),l.Wb(254,"span",45),l.Ic(255,"7"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(256,"div",63),l.Wb(257,"ul",32),l.Wb(258,"li",33),l.Wb(259,"div",34),l.Wb(260,"table",35),l.Wb(261,"caption",36),l.Wb(262,"time",64),l.Ic(263,"22 February 1998"),l.Vb(),l.Vb(),l.Wb(264,"thead",38),l.Wb(265,"tr"),l.Wb(266,"th"),l.Ic(267,"Country"),l.Vb(),l.Wb(268,"th"),l.Ic(269,"Score"),l.Vb(),l.Vb(),l.Vb(),l.Wb(270,"tbody",39),l.Wb(271,"tr",40),l.Wb(272,"td",41),l.Rb(273,"abbr",49),l.Rb(274,"span",50),l.Vb(),l.Wb(275,"td",44),l.Wb(276,"span",45),l.Ic(277,"1"),l.Vb(),l.Rb(278,"span",65),l.Vb(),l.Vb(),l.Wb(279,"tr",46),l.Wb(280,"td",41),l.Rb(281,"abbr",57),l.Rb(282,"span",58),l.Vb(),l.Wb(283,"td",44),l.Wb(284,"span",45),l.Ic(285,"0"),l.Vb(),l.Rb(286,"span",66),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(287,"div",67),l.Wb(288,"div",2),l.Gc(289,j,13,7,"div",28),l.Vb(),l.Vb(),l.Wb(290,"div",68),l.Wb(291,"div",69),l.Wb(292,"table",70),l.Wb(293,"thead"),l.Wb(294,"tr"),l.Wb(295,"th",71),l.Ic(296),l.Vb(),l.Wb(297,"th",71),l.Ic(298),l.Vb(),l.Wb(299,"th",71),l.Ic(300),l.Vb(),l.Wb(301,"th",71),l.Ic(302),l.Vb(),l.Wb(303,"th",71),l.Ic(304),l.Vb(),l.Wb(305,"th",71),l.Ic(306),l.Vb(),l.Wb(307,"th",72),l.Ic(308),l.Vb(),l.Vb(),l.Vb(),l.Wb(309,"tbody"),l.Gc(310,$,15,13,"tr",73),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(15),l.pc("src",null==t.singleItem?null:t.singleItem.banner,l.Bc),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.name,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.description,""),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.entryFee,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.startDate,""),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.prizeMoney,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.secondPrizeMoney,""),l.Db(5),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.thirdPrizeMoney,""),l.Db(4),l.Kc(" \xa0",null==t.singleItem?null:t.singleItem.numberOfPlayer,""),l.Db(3),l.oc("formGroup",t.formMessageUser),l.Db(7),l.oc("ngIf",!1===(null==t.singleItem?null:t.singleItem.open)),l.Db(1),l.oc("ngIf",!0===(null==t.singleItem?null:t.singleItem.open)),l.Db(20),l.oc("ngForOf",t.completeMatches),l.Db(22),l.Lc("",t.userData&&(null==t.userData[0]?null:t.userData[0].firstName)," ",t.userData&&(null==t.userData[0]?null:t.userData[0].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[1]?null:t.userData[1].firstName)," ",t.userData&&(null==t.userData[1]?null:t.userData[1].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[2]?null:t.userData[2].firstName)," ",t.userData&&(null==t.userData[2]?null:t.userData[2].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[3]?null:t.userData[3].firstName)," ",t.userData&&(null==t.userData[3]?null:t.userData[3].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[4]?null:t.userData[4].firstName)," ",t.userData&&(null==t.userData[4]?null:t.userData[4].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[5]?null:t.userData[5].firstName)," ",t.userData&&(null==t.userData[5]?null:t.userData[5].lastName),""),l.Db(21),l.Lc("",t.userData&&(null==t.userData[6]?null:t.userData[6].firstName)," ",t.userData&&(null==t.userData[6]?null:t.userData[6].lastName),""),l.Db(8),l.Lc("",t.userData&&(null==t.userData[7]?null:t.userData[7].firstName)," ",t.userData&&(null==t.userData[7]?null:t.userData[7].lastName),""),l.Db(90),l.oc("ngForOf",t.pendingMatches),l.Db(7),l.Jc(t.tableData1.headerRow[0]),l.Db(2),l.Jc(t.tableData1.headerRow[1]),l.Db(2),l.Jc(t.tableData1.headerRow[2]),l.Db(2),l.Jc(t.tableData1.headerRow[3]),l.Db(2),l.Jc(t.tableData1.headerRow[4]),l.Db(2),l.Jc(t.tableData1.headerRow[5]),l.Db(2),l.Jc(t.tableData1.headerRow[6]),l.Db(2),l.oc("ngForOf",t.userData))},directives:[r.w,r.p,r.i,m.b,h.b,r.c,r.o,r.g,p.b,i.m,i.l,a.g],styles:['@import"https://fonts.googleapis.com/css?family=Work+Sans:300,400,600,700&subset=latin-ext";\n@breakpoint-sm : 38em;@breakpoint-md : 52em;@breakpoint-lg : 72em;*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}html[_ngcontent-%COMP%]{font-size:15px}@media(min-width:576px){html[_ngcontent-%COMP%]{font-size:14px;font-size:15px;font-size:16px}}body[_ngcontent-%COMP%]{background-color:#f1f1f1;font-family:Work Sans,Helvetica Neue,Arial,sans-serif}.container[_ngcontent-%COMP%]{width:90%;min-width:18em;margin:20px auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5em}h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:2em}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.tournament-bracket[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media(min-width:576px){.tournament-bracket[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}}.tournament-bracket__round[_ngcontent-%COMP%]{display:block;margin-left:-3px;-webkit-box-flex:1;flex:1}.tournament-bracket__round-title[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;font-weight:400;text-align:center;font-style:italic;margin-bottom:.5em}.tournament-bracket__list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-flow:row wrap;-webkit-box-pack:center;justify-content:center;height:100%;min-height:100%;border-bottom:1px dashed #e5e5e5;padding-bottom:2em;margin-bottom:2em;-webkit-transition:padding .2s ease-in-out,margin .2s ease-in-out;transition:padding .2s ease-in-out,margin .2s ease-in-out}@media(max-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{padding-bottom:1em;margin-bottom:1em}}@media(min-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0;border-right:1px dashed #e5e5e5;border-bottom:0}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__list[_ngcontent-%COMP%]{border:0}.tournament-bracket__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;position:relative;padding:2% 0;width:48%;-webkit-transition:padding .2s linear;transition:padding .2s linear}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-right:2%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n){margin-left:2%}.tournament-bracket__item[_ngcontent-%COMP%]:after{-webkit-transition:width .2s linear;transition:width .2s linear}@media(max-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-left:0;margin-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1em;width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin:0}.tournament-bracket__item[_ngcontent-%COMP%]:after{position:absolute;right:0;content:"";display:block;width:1em;height:45%;border-right:2px solid #9e9e9e}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{border-top-right-radius:.6em}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{border-bottom-right-radius:.6em}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-right:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__round[_ngcontent-%COMP%]:nth-last-child(2)   .tournament-bracket__item[_ngcontent-%COMP%]:after{border-radius:0;border-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1.5em}.tournament-bracket__item[_ngcontent-%COMP%]:after{width:1.5em}}.tournament-bracket__match[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;background-color:#fff;padding:1em;border:1px solid transparent;border-radius:.1em;box-shadow:0 2px 0 0 #e5e5e5;outline:none;cursor:pointer;-webkit-transition:padding .2s ease-in-out,border .2s linear;transition:padding .2s ease-in-out,border .2s linear}.tournament-bracket__match[_ngcontent-%COMP%]:focus{border-color:#2196f3}.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transition:all .2s linear;transition:all .2s linear}@media(max-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]{padding:.75em .5em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{position:absolute;left:0;z-index:1;content:"";display:block;width:1em;height:10%;border-left:2px solid #9e9e9e}.tournament-bracket__match[_ngcontent-%COMP%]:before{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:.6em}.tournament-bracket__match[_ngcontent-%COMP%]:after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:after{border-top-left-radius:.6em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{width:1.5em}.tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket__match[_ngcontent-%COMP%]:after{-webkit-transform:translateY(-1px);transform:translateY(-1px)}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:0}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:before, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__content[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.tournament-bracket__content[_ngcontent-%COMP%]:after{content:":";width:1em;text-align:center;padding:.2em .1em}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]:after{-webkit-box-ordinal-group:2;order:1}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{width:50%;-webkit-box-ordinal-group:1;order:0;text-align:right}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2;-webkit-box-pack:end;justify-content:flex-end}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse;-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{width:50%;-webkit-box-ordinal-group:3;order:2;text-align:left}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{-webkit-box-align:start;align-items:flex-start}}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-pack:start;justify-content:flex-start}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__code[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1}.tournament-bracket__table[_ngcontent-%COMP%]{width:100%}.tournament-bracket__caption[_ngcontent-%COMP%]{font-size:.8rem;color:#bdbdbd;font-weight:300;padding-bottom:.75em}.tournament-bracket__team[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;-webkit-box-pack:justify;justify-content:space-between}@media(min-width:576px){.tournament-bracket__team[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse}}.tournament-bracket__country[_ngcontent-%COMP%]{font-size:.95rem;display:-webkit-box;display:flex;margin-top:.5em;-webkit-box-align:center;align-items:center}@media(max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{margin-top:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.tournament-bracket__country[_ngcontent-%COMP%]   .tournament-bracket__code[_ngcontent-%COMP%]{margin-top:.2em}}.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .5em;color:#212121;font-weight:600;text-transform:uppercase;border:0;text-decoration:none;cursor:help;-webkit-transition:padding .2s ease-in-out;transition:padding .2s ease-in-out}@media(max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .25em}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0}}.tournament-bracket__score[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;padding-left:.75em}.tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__score[_ngcontent-%COMP%]{padding-right:.75em}.tournament-bracket__number[_ngcontent-%COMP%]{display:inline-block;padding:.2em .4em;font-size:.95rem;background-color:#f5f5f5;border-bottom:.075em solid;border-color:spin(shade(#f5f5f5,10%),-10)}.tournament-bracket__team--winner[_ngcontent-%COMP%]   .tournament-bracket__number[_ngcontent-%COMP%]{background-color:#fff176;border-color:spin(shade(#fff176,2%),-10)}.tournament-bracket__medal[_ngcontent-%COMP%]{padding:0 .5em}.tournament-bracket__medal--gold[_ngcontent-%COMP%]{color:gold}.tournament-bracket__medal--silver[_ngcontent-%COMP%]{color:silver}.tournament-bracket__medal--bronze[_ngcontent-%COMP%]{color:#cd7f32}']}),e})();function Y(e,t){1&e&&(l.Wb(0,"p",32),l.Ic(1,"Name is required"),l.Vb())}function E(e,t){1&e&&(l.Wb(0,"p",32),l.Ic(1,"Entry Fee is required"),l.Vb())}function X(e,t){1&e&&(l.Wb(0,"p",32),l.Ic(1,"Start Date is required"),l.Vb())}function H(e,t){if(1&e&&(l.Wb(0,"mat-option",33),l.Ic(1),l.Vb()),2&e){const e=t.$implicit;l.oc("value",e.value),l.Db(1),l.Kc(" ",e.viewValue," ")}}function Z(e,t){1&e&&(l.Wb(0,"p",32),l.Ic(1,"Number of Players is required"),l.Vb())}function ee(e,t){1&e&&(l.Wb(0,"p",32),l.Ic(1,"Banner is required"),l.Vb())}function te(e,t){1&e&&(l.Wb(0,"p",34),l.Ic(1,"banner should be 375 x 500 size"),l.Vb())}let ne=(()=>{class e{constructor(e,t,n,a,i){this.spinner=e,this.formBuilder=t,this.tournamentService=n,this.storage=a,this.route=i,this.tournaments=[],this.error="",this.players=[{value:"2",viewValue:"2"},{value:"8",viewValue:"8"},{value:"9",viewValue:"9"},{value:"10",viewValue:"10"},{value:"11",viewValue:"11"},{value:"12",viewValue:"12"},{value:"13",viewValue:"13"},{value:"14",viewValue:"14"},{value:"15",viewValue:"15"},{value:"16",viewValue:"16"},{value:"17",viewValue:"17"},{value:"18",viewValue:"18"},{value:"19",viewValue:"19"},{value:"20",viewValue:"20"},{value:"21",viewValue:"21"},{value:"22",viewValue:"22"},{value:"23",viewValue:"23"},{value:"24",viewValue:"24"},{value:"25",viewValue:"25"},{value:"26",viewValue:"26"},{value:"27",viewValue:"27"},{value:"28",viewValue:"28"},{value:"29",viewValue:"29"},{value:"30",viewValue:"30"},{value:"31",viewValue:"31"},{value:"32",viewValue:"32"},{value:"33",viewValue:"33"},{value:"34",viewValue:"34"},{value:"35",viewValue:"35"},{value:"36",viewValue:"36"},{value:"37",viewValue:"37"},{value:"38",viewValue:"38"},{value:"39",viewValue:"39"},{value:"40",viewValue:"40"},{value:"41",viewValue:"41"},{value:"42",viewValue:"42"},{value:"43",viewValue:"43"},{value:"44",viewValue:"44"},{value:"45",viewValue:"45"},{value:"46",viewValue:"46"},{value:"47",viewValue:"47"},{value:"48",viewValue:"48"},{value:"49",viewValue:"49"},{value:"50",viewValue:"50"},{value:"51",viewValue:"51"},{value:"52",viewValue:"52"},{value:"53",viewValue:"53"},{value:"54",viewValue:"54"},{value:"55",viewValue:"55"},{value:"56",viewValue:"56"},{value:"57",viewValue:"57"},{value:"58",viewValue:"58"},{value:"59",viewValue:"59"},{value:"60",viewValue:"60"},{value:"61",viewValue:"61"},{value:"62",viewValue:"62"},{value:"63",viewValue:"63"},{value:"64",viewValue:"64"},{value:"65",viewValue:"65"},{value:"66",viewValue:"66"},{value:"67",viewValue:"67"},{value:"68",viewValue:"68"},{value:"69",viewValue:"69"},{value:"70",viewValue:"70"},{value:"71",viewValue:"71"},{value:"72",viewValue:"72"},{value:"73",viewValue:"73"},{value:"74",viewValue:"74"},{value:"75",viewValue:"75"},{value:"76",viewValue:"76"},{value:"77",viewValue:"77"},{value:"78",viewValue:"78"},{value:"79",viewValue:"79"},{value:"80",viewValue:"80"},{value:"81",viewValue:"81"},{value:"82",viewValue:"82"},{value:"83",viewValue:"83"},{value:"84",viewValue:"84"},{value:"85",viewValue:"85"},{value:"86",viewValue:"86"},{value:"87",viewValue:"87"},{value:"88",viewValue:"88"},{value:"89",viewValue:"89"},{value:"90",viewValue:"90"},{value:"91",viewValue:"91"},{value:"92",viewValue:"92"},{value:"93",viewValue:"93"},{value:"94",viewValue:"94"},{value:"95",viewValue:"95"},{value:"96",viewValue:"96"},{value:"97",viewValue:"97"},{value:"98",viewValue:"98"},{value:"99",viewValue:"99"},{value:"100",viewValue:"100"}]}ngOnInit(){this.route.params.subscribe(e=>{this.id=e.id}),this.formTournament=this.formBuilder.group({name:["",r.v.required],description:new r.e(""),entryFee:["",r.v.required],startDate:["",r.v.required],prizeMoney:new r.e(""),secondPrizeMoney:new r.e(""),thirdPrizeMoney:new r.e(""),numberOfPlayer:["",r.v.required],banner:["",r.v.required],open:!0}),this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),this.singleItem=this.item.find(e=>e.id==this.id),this.formTournament.patchValue({name:this.singleItem.name,description:this.singleItem.description,entryFee:this.singleItem.entryFee,startDate:this.singleItem.startDate,prizeMoney:this.singleItem.prizeMoney,secondPrizeMoney:this.singleItem.secondPrizeMoney,thirdPrizeMoney:this.singleItem.thirdPrizeMoney,numberOfPlayer:this.singleItem.numberOfPlayer,banner:this.singleItem.banner,open:!0}),console.log(e)})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=()=>{const e=new Image;e.src=a.result,this.imageSrc=a.result,e.onload=()=>{const a=e.naturalHeight,i=e.naturalWidth;if(375!==i&&500!==a)return void(this.error="photo should be 100 x 100 size");this.spinner.show();const r=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=r.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e,this.formTournament.value.banner=this.fb),this.spinner.hide(),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)}),this.error="",console.log("Width and Height",i,a)}}}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.name=this.formTournament.value.name?this.formTournament.value.name:this.singleItem.name,this.formTournament.value.description=this.formTournament.value.description?this.formTournament.value.description:this.singleItem.description,this.formTournament.value.entryFee=this.formTournament.value.entryFee?this.formTournament.value.entryFee:this.singleItem.entryFee,this.formTournament.value.numberOfPlayer=this.formTournament.value.numberOfPlayer?this.formTournament.value.numberOfPlayer:this.singleItem.numberOfPlayer,this.formTournament.value.prizeMoney=this.formTournament.value.prizeMoney?this.formTournament.value.prizeMoney:this.singleItem.prizeMoney,this.formTournament.value.banner=this.formTournament.value.banner?this.formTournament.value.banner:this.singleItem.banner,this.formTournament.value.secondPrizeMoney=this.formTournament.value.secondPrizeMoney?this.formTournament.value.secondPrizeMoney:this.singleItem.secondPrizeMoney,this.formTournament.value.thirdPrizeMoney=this.formTournament.value.thirdPrizeMoney?this.formTournament.value.thirdPrizeMoney:this.singleItem.thirdPrizeMoney,this.formTournament.value.startDate=this.formTournament.value.startDate?this.formTournament.value.startDate:this.singleItem.startDate,this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(d.b),l.Qb(r.d),l.Qb(b.a),l.Qb(u.a),l.Qb(a.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:50,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["style","color: red",4,"ngIf"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","First Prize Money","type","number","formControlName","prizeMoney"],["matInput","","placeholder","Second Prize Money","type","number","formControlName","secondPrizeMoney"],["matInput","","placeholder","Third Prize Money","type","number","formControlName","thirdPrizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["style","color: red","class","ml-3",4,"ngIf"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"click"],[2,"color","red"],[3,"value"],[1,"ml-3",2,"color","red"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"emoji_events"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Edit Tournament"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"form",10),l.Wb(13,"mat-form-field",11),l.Rb(14,"input",12),l.Vb(),l.Gc(15,Y,2,0,"p",13),l.Wb(16,"mat-form-field",11),l.Rb(17,"input",14),l.Vb(),l.Wb(18,"mat-form-field",11),l.Rb(19,"input",15),l.Vb(),l.Gc(20,E,2,0,"p",13),l.Wb(21,"mat-form-field"),l.Rb(22,"input",16),l.Vb(),l.Gc(23,X,2,0,"p",13),l.Wb(24,"mat-form-field",11),l.Rb(25,"input",17),l.Vb(),l.Wb(26,"mat-form-field",11),l.Rb(27,"input",18),l.Vb(),l.Wb(28,"mat-form-field",11),l.Rb(29,"input",19),l.Vb(),l.Wb(30,"mat-select",20),l.Gc(31,H,2,2,"mat-option",21),l.Vb(),l.Gc(32,Z,2,0,"p",13),l.Wb(33,"div",22),l.Wb(34,"div"),l.Wb(35,"span",23),l.Wb(36,"span",24),l.Ic(37,"Select Banner"),l.Vb(),l.Wb(38,"span",25),l.Ic(39,"Change"),l.Vb(),l.Wb(40,"input",26),l.ec("change",(function(e){return t.onFileSelected(e)})),l.Vb(),l.Vb(),l.Rb(41,"ngx-ui-loader"),l.Gc(42,ee,2,0,"p",13),l.Gc(43,te,2,0,"p",27),l.Wb(44,"a",28),l.Rb(45,"i",29),l.Ic(46," Remove"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(47,"div",30),l.Wb(48,"button",31),l.ec("click",(function(e){return t.onSubmit()})),l.Ic(49,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(12),l.oc("formGroup",t.formTournament),l.Db(3),l.oc("ngIf",t.formTournament.get("name").touched&&t.formTournament.get("name").invalid),l.Db(5),l.oc("ngIf",t.formTournament.get("entryFee").touched&&t.formTournament.get("entryFee").invalid),l.Db(3),l.oc("ngIf",t.formTournament.get("startDate").touched&&t.formTournament.get("startDate").invalid),l.Db(8),l.oc("ngForOf",t.players),l.Db(1),l.oc("ngIf",t.formTournament.get("numberOfPlayer").touched&&t.formTournament.get("numberOfPlayer").invalid),l.Db(10),l.oc("ngIf",t.formTournament.get("banner").touched&&t.formTournament.get("banner").invalid),l.Db(1),l.oc("ngIf",t.error))},directives:[r.w,r.p,r.i,m.b,h.b,r.c,r.o,r.g,i.m,r.s,g.a,i.l,v.b,p.b,f.n],encapsulation:2}),e})();const ae=function(e){return["../tournament-detail",e]},ie=function(e){return["../tournament-edit",e]};function re(e,t){if(1&e){const e=l.Xb();l.Wb(0,"tr"),l.Wb(1,"td",16),l.Ic(2),l.Vb(),l.Wb(3,"td",16),l.Ic(4),l.Vb(),l.Wb(5,"td",16),l.Ic(6),l.Vb(),l.Wb(7,"td",16),l.Ic(8),l.Vb(),l.Wb(9,"td",16),l.Ic(10),l.Vb(),l.Wb(11,"td",16),l.Ic(12),l.Vb(),l.Wb(13,"td",16),l.Ic(14),l.Vb(),l.Wb(15,"td",16),l.Ic(16),l.Vb(),l.Wb(17,"td",13),l.Rb(18,"img",17),l.Vb(),l.Wb(19,"td",18),l.Wb(20,"button",19),l.Wb(21,"i",20),l.Ic(22,"edit"),l.Vb(),l.Vb(),l.Wb(23,"button",19),l.Wb(24,"i",21),l.ec("click",(function(n){l.zc(e);const a=t.$implicit;return l.ic().deleteTournament(a.id)})),l.Ic(25,"close"),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){const e=t.$implicit;l.Db(1),l.oc("routerLink",l.sc(24,ae,e.id)),l.Db(1),l.Jc(e.name),l.Db(1),l.oc("routerLink",l.sc(26,ae,e.id)),l.Db(1),l.Jc(e.description),l.Db(1),l.oc("routerLink",l.sc(28,ae,e.id)),l.Db(1),l.Jc(e.entryFee),l.Db(1),l.oc("routerLink",l.sc(30,ae,e.id)),l.Db(1),l.Jc(e.prizeMoney),l.Db(1),l.oc("routerLink",l.sc(32,ae,e.id)),l.Db(1),l.Jc(e.secondPrizeMoney),l.Db(1),l.oc("routerLink",l.sc(34,ae,e.id)),l.Db(1),l.Jc(e.thirdPrizeMoney),l.Db(1),l.oc("routerLink",l.sc(36,ae,e.id)),l.Db(1),l.Jc(e.startDate),l.Db(1),l.oc("routerLink",l.sc(38,ae,e.id)),l.Db(1),l.Jc(e.numberOfPlayer),l.Db(2),l.pc("src",e.banner,l.Bc),l.Db(2),l.Gb("btn btn-success ",e[5],""),l.Db(1),l.oc("routerLink",l.sc(40,ie,e.id)),l.Db(2),l.Gb("btn btn-danger ",e[5],"")}}const oe=function(e){return["../../user-detail",e]};function se(e,t){if(1&e&&(l.Wb(0,"div",12),l.Wb(1,"div",13),l.Wb(2,"div",14),l.Wb(3,"div",6),l.Wb(4,"i",7),l.Ic(5,"person"),l.Vb(),l.Vb(),l.Wb(6,"h2",15),l.Ic(7),l.Vb(),l.Vb(),l.Wb(8,"div",16),l.Wb(9,"div",17),l.Wb(10,"i",7),l.Ic(11,"update"),l.Vb(),l.Ic(12," Just Updated "),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){const e=t.$implicit;l.Db(6),l.oc("routerLink",l.sc(3,oe,e.id)),l.Db(1),l.Lc("",e.firstName," ",e.lastName,"")}}const be=[{path:"",children:[{path:"dashboard",component:D},{path:"tournament-list",component:(()=>{class e{constructor(e){this.tournamentService=e,this.tournamentList=[]}ngOnInit(){this.tableData1={headerRow:["Name","Description","Entry Fee","First Prize Money","Second Prize Money","Third Prize Money","Start Date","Number Of players","Banner",""]},this.tournamentService.getTournaments().subscribe(e=>{this.item=e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())),console.log(e)})}deleteTournament(e){this.tournamentService.deleteTournament(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(b.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:36,vars:9,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["mat-raised-button","","type","button","routerLink","../dashboard",1,"btn","btn-danger","text-right",2,"left","700px"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[2,"width","100px","height","50px",3,"src"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"button",4),l.Ic(5,"Add Tournament"),l.Vb(),l.Wb(6,"div",5),l.Wb(7,"div",6),l.Wb(8,"div",7),l.Wb(9,"i",8),l.Ic(10,"emoji_events"),l.Vb(),l.Vb(),l.Wb(11,"h4",9),l.Ic(12,"Tournament List"),l.Vb(),l.Vb(),l.Wb(13,"div",10),l.Wb(14,"div",11),l.Wb(15,"table",12),l.Wb(16,"thead"),l.Wb(17,"tr"),l.Wb(18,"th",13),l.Ic(19),l.Vb(),l.Wb(20,"th",13),l.Ic(21),l.Vb(),l.Wb(22,"th",13),l.Ic(23),l.Vb(),l.Wb(24,"th",13),l.Ic(25),l.Vb(),l.Wb(26,"th",13),l.Ic(27),l.Vb(),l.Wb(28,"th",13),l.Ic(29),l.Vb(),l.Wb(30,"th",13),l.Ic(31),l.Vb(),l.Wb(32,"th",14),l.Ic(33),l.Vb(),l.Vb(),l.Vb(),l.Wb(34,"tbody"),l.Gc(35,re,26,42,"tr",15),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(19),l.Jc(t.tableData1.headerRow[0]),l.Db(2),l.Jc(t.tableData1.headerRow[1]),l.Db(2),l.Jc(t.tableData1.headerRow[2]),l.Db(2),l.Jc(t.tableData1.headerRow[3]),l.Db(2),l.Jc(t.tableData1.headerRow[4]),l.Db(2),l.Jc(t.tableData1.headerRow[5]),l.Db(2),l.Jc(t.tableData1.headerRow[6]),l.Db(2),l.Jc(t.tableData1.headerRow[7]),l.Db(2),l.oc("ngForOf",t.item))},directives:[p.b,a.g,i.l],encapsulation:2}),e})()},{path:"tournament-edit/:id",component:ne},{path:"tournament-detail/:id",component:B},{path:"match-detail/:id",component:F},{path:"user-detail/:id",component:(()=>{class e{constructor(e,t,n,a,i){this.tournamentService=e,this.userService=t,this.storage=n,this.route=a,this.firestore=i,this.tournaments=[]}ngOnInit(){this.route.params.subscribe(e=>{this.userId=e.id}),this.tournamentService.getUser(this.userId).subscribe(e=>{this.user=Object.assign({id:e.payload.id},e.payload.data())})}onFileSelected(e){const t=Date.now(),n=e.target.files[0],a=this.storage.ref(`RoomsImages/${t}`);this.storage.upload(`RoomsImages/${t}`,n).snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=a.getDownloadURL(),this.downloadURL.subscribe(e=>{e&&(this.fb=e),console.log(this.fb)})})).subscribe(e=>{e&&console.log(e)})}onSubmit(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Qb(b.a),l.Qb(P.a),l.Qb(u.a),l.Qb(a.a),l.Qb(O.a))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-dashboard"]],decls:42,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink"],[1,"card-footer"],[1,"stats"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"div",3),l.Wb(4,"div",4),l.Wb(5,"div",5),l.Wb(6,"div",6),l.Wb(7,"i",7),l.Ic(8,"person"),l.Vb(),l.Vb(),l.Wb(9,"h4",8),l.Ic(10,"Player Details"),l.Vb(),l.Vb(),l.Wb(11,"div",9),l.Wb(12,"div",2),l.Gc(13,se,13,5,"div",10),l.Vb(),l.Wb(14,"div",11),l.Wb(15,"div",2),l.Wb(16,"h3",12),l.Wb(17,"strong"),l.Ic(18,"First Name:"),l.Vb(),l.Ic(19),l.Vb(),l.Wb(20,"h3",12),l.Wb(21,"strong"),l.Ic(22,"Last Name:"),l.Vb(),l.Ic(23),l.Vb(),l.Vb(),l.Wb(24,"div",2),l.Wb(25,"h3",12),l.Wb(26,"strong"),l.Ic(27,"Email:"),l.Vb(),l.Ic(28),l.Vb(),l.Wb(29,"h3",12),l.Wb(30,"strong"),l.Ic(31,"PSN Username:"),l.Vb(),l.Ic(32),l.Vb(),l.Vb(),l.Wb(33,"div",2),l.Wb(34,"h3",12),l.Wb(35,"strong"),l.Ic(36,"Phone Number:"),l.Vb(),l.Ic(37),l.Vb(),l.Wb(38,"h3",12),l.Wb(39,"strong"),l.Ic(40,"Password:"),l.Vb(),l.Ic(41),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Db(13),l.oc("ngForOf",t.userData),l.Db(6),l.Kc(" \xa0",t.user.firstName,""),l.Db(4),l.Kc(" \xa0",t.user.lastName,""),l.Db(5),l.Kc(" \xa0",t.user.email,""),l.Db(4),l.Kc(" \xa0",t.user.psnName,""),l.Db(5),l.Kc(" \xa0",t.user.phoneNumber,""),l.Db(4),l.Kc(" \xa0",t.user.password,""))},directives:[i.l,a.g],encapsulation:2}),e})()}]}];n.d(t,"DashboardModule",(function(){return ce}));let ce=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[i.c,a.j.forChild(be),r.j,o.a,s.b]]}),e})()},ip79:function(e,t){}}]);