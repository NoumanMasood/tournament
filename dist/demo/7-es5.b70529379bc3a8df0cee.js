function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TDBs:function(e,t,n){"use strict";n.r(t);var a=n("tyNb"),r=n("ofXK"),i=n("3Pt+"),o=n("OsiS"),b=n("ZAI4"),c=n("PBUU"),l=n("nYR2"),s=n("fXoL"),u=n("Vaw3"),d=n("JqCM"),m=n("kmnG"),f=n("qFsG"),h=n("d3UM"),g=n("gren"),p=n("bTqV"),v=n("FKr1");function V(e,t){1&e&&(s.Wb(0,"p",33),s.Ic(1,"Name is required"),s.Vb())}function _(e,t){1&e&&(s.Wb(0,"p",33),s.Ic(1,"Entry Fee is required"),s.Vb())}function W(e,t){1&e&&(s.Wb(0,"p",33),s.Ic(1,"Start Date is required"),s.Vb())}function k(e,t){if(1&e&&(s.Wb(0,"mat-option",34),s.Ic(1),s.Vb()),2&e){var n=t.$implicit;s.oc("value",n.value),s.Db(1),s.Kc(" ",n.viewValue," ")}}function w(e,t){1&e&&(s.Wb(0,"p",33),s.Ic(1,"Number of Players is required"),s.Vb())}function I(e,t){if(1&e&&s.Rb(0,"img",35),2&e){var n=s.ic();s.oc("src",n.imageSrc,s.Bc)}}function y(e,t){1&e&&(s.Wb(0,"p",33),s.Ic(1,"Banner is required"),s.Vb())}function x(e,t){1&e&&(s.Wb(0,"p",36),s.Ic(1,"banner should be 375 x 500 size"),s.Vb())}var D,M=((D=function(){function e(t,n,a,r,i){_classCallCheck(this,e),this.tournamentService=t,this.storage=n,this.formBuilder=a,this.spinner=r,this.router=i,this.tournaments=[],this.error="",this.players=[{value:"8",viewValue:"8"},{value:"9",viewValue:"9"},{value:"10",viewValue:"10"},{value:"11",viewValue:"11"},{value:"12",viewValue:"12"},{value:"13",viewValue:"13"},{value:"14",viewValue:"14"},{value:"15",viewValue:"15"},{value:"16",viewValue:"16"},{value:"17",viewValue:"17"},{value:"18",viewValue:"18"},{value:"19",viewValue:"19"},{value:"20",viewValue:"20"},{value:"21",viewValue:"21"},{value:"22",viewValue:"22"},{value:"23",viewValue:"23"},{value:"24",viewValue:"24"},{value:"25",viewValue:"25"},{value:"26",viewValue:"26"},{value:"27",viewValue:"27"},{value:"28",viewValue:"28"},{value:"29",viewValue:"29"},{value:"30",viewValue:"30"},{value:"31",viewValue:"31"},{value:"32",viewValue:"32"},{value:"33",viewValue:"33"},{value:"34",viewValue:"34"},{value:"35",viewValue:"35"},{value:"36",viewValue:"36"},{value:"37",viewValue:"37"},{value:"38",viewValue:"38"},{value:"39",viewValue:"39"},{value:"40",viewValue:"40"},{value:"41",viewValue:"41"},{value:"42",viewValue:"42"},{value:"43",viewValue:"43"},{value:"44",viewValue:"44"},{value:"45",viewValue:"45"},{value:"46",viewValue:"46"},{value:"47",viewValue:"47"},{value:"48",viewValue:"48"},{value:"49",viewValue:"49"},{value:"50",viewValue:"50"},{value:"51",viewValue:"51"},{value:"52",viewValue:"52"},{value:"53",viewValue:"53"},{value:"54",viewValue:"54"},{value:"55",viewValue:"55"},{value:"56",viewValue:"56"},{value:"57",viewValue:"57"},{value:"58",viewValue:"58"},{value:"59",viewValue:"59"},{value:"60",viewValue:"60"},{value:"61",viewValue:"61"},{value:"62",viewValue:"62"},{value:"63",viewValue:"63"},{value:"64",viewValue:"64"},{value:"65",viewValue:"65"},{value:"66",viewValue:"66"},{value:"67",viewValue:"67"},{value:"68",viewValue:"68"},{value:"69",viewValue:"69"},{value:"70",viewValue:"70"},{value:"71",viewValue:"71"},{value:"72",viewValue:"72"},{value:"73",viewValue:"73"},{value:"74",viewValue:"74"},{value:"75",viewValue:"75"},{value:"76",viewValue:"76"},{value:"77",viewValue:"77"},{value:"78",viewValue:"78"},{value:"79",viewValue:"79"},{value:"80",viewValue:"80"},{value:"81",viewValue:"81"},{value:"82",viewValue:"82"},{value:"83",viewValue:"83"},{value:"84",viewValue:"84"},{value:"85",viewValue:"85"},{value:"86",viewValue:"86"},{value:"87",viewValue:"87"},{value:"88",viewValue:"88"},{value:"89",viewValue:"89"},{value:"90",viewValue:"90"},{value:"91",viewValue:"91"},{value:"92",viewValue:"92"},{value:"93",viewValue:"93"},{value:"94",viewValue:"94"},{value:"95",viewValue:"95"},{value:"96",viewValue:"96"},{value:"97",viewValue:"97"},{value:"98",viewValue:"98"},{value:"99",viewValue:"99"},{value:"100",viewValue:"100"}]}return _createClass(e,[{key:"ngOnInit",value:function(){this.tournamentService.getItems().subscribe((function(e){console.log(e)})),this.formTournament=this.formBuilder.group({name:["",i.v.required],description:new i.e(""),entryFee:["",i.v.required],startDate:["",i.v.required],prizeMoney:new i.e(""),secondPrizeMoney:new i.e(""),thirdPrizeMoney:new i.e(""),numberOfPlayer:["",i.v.required],banner:["",i.v.required]})}},{key:"onFileSelected",value:function(e){var t=this,n=Date.now(),a=e.target.files[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(){var e=new Image;e.src=r.result,t.imageSrc=r.result,e.onload=function(){var r=e.naturalHeight,i=e.naturalWidth;if(375===i||500===r){t.spinner.show();var o=t.storage.ref("RoomsImages/".concat(n));t.storage.upload("RoomsImages/".concat(n),a).snapshotChanges().pipe(Object(l.a)((function(){t.downloadURL=o.getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.fb=e,t.formTournament.value.banner=t.fb),t.spinner.hide(),console.log(t.fb)}))}))).subscribe((function(e){e&&console.log(e)})),t.error="",console.log("Width and Height",i,r)}else t.error="photo should be 100 x 100 size"}}}},{key:"onSubmit",value:function(){console.log(this.formTournament.value),this.formTournament.markAllAsTouched(),this.formTournament.invalid||(this.router.navigateByUrl("/tournament-list"),this.formTournament.value.banner=this.fb,this.tournamentService.addTournament(this.formTournament.value).then((function(e){console.log(e)})))}}]),e}()).\u0275fac=function(e){return new(e||D)(s.Qb(c.a),s.Qb(u.a),s.Qb(i.d),s.Qb(d.b),s.Qb(a.f))},D.\u0275cmp=s.Kb({type:D,selectors:[["app-dashboard"]],decls:51,vars:10,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["style","color: red",4,"ngIf"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","First Prize Money","type","number","formControlName","prizeMoney"],["matInput","","placeholder","Second Prize Money","type","number","formControlName","secondPrizeMoney"],["matInput","","placeholder","Third Prize Money","type","number","formControlName","thirdPrizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["class","example-full-width","style","height: 300px; width:300px",3,"src",4,"ngIf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["style","color: red","class","ml-3",4,"ngIf"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"disabled","click"],[2,"color","red"],[3,"value"],[1,"example-full-width",2,"height","300px","width","300px",3,"src"],[1,"ml-3",2,"color","red"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"div",5),s.Wb(6,"div",6),s.Wb(7,"i",7),s.Ic(8,"emoji_events"),s.Vb(),s.Vb(),s.Wb(9,"h4",8),s.Ic(10,"Add Tournament"),s.Vb(),s.Vb(),s.Wb(11,"div",9),s.Wb(12,"form",10),s.Wb(13,"mat-form-field",11),s.Rb(14,"input",12),s.Vb(),s.Gc(15,V,2,0,"p",13),s.Wb(16,"mat-form-field",11),s.Rb(17,"input",14),s.Vb(),s.Wb(18,"mat-form-field",11),s.Rb(19,"input",15),s.Vb(),s.Gc(20,_,2,0,"p",13),s.Wb(21,"mat-form-field"),s.Rb(22,"input",16),s.Vb(),s.Gc(23,W,2,0,"p",13),s.Wb(24,"mat-form-field",11),s.Rb(25,"input",17),s.Vb(),s.Wb(26,"mat-form-field",11),s.Rb(27,"input",18),s.Vb(),s.Wb(28,"mat-form-field",11),s.Rb(29,"input",19),s.Vb(),s.Wb(30,"mat-select",20),s.Gc(31,k,2,2,"mat-option",21),s.Vb(),s.Gc(32,w,2,0,"p",13),s.Gc(33,I,1,1,"img",22),s.Wb(34,"div",23),s.Wb(35,"div"),s.Wb(36,"span",24),s.Wb(37,"span",25),s.Ic(38,"Select Banner"),s.Vb(),s.Wb(39,"span",26),s.Ic(40,"Change"),s.Vb(),s.Wb(41,"input",27),s.ec("change",(function(e){return t.onFileSelected(e)})),s.Vb(),s.Vb(),s.Rb(42,"ngx-ui-loader"),s.Gc(43,y,2,0,"p",13),s.Gc(44,x,2,0,"p",28),s.Wb(45,"a",29),s.Rb(46,"i",30),s.Ic(47," Remove"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(48,"div",31),s.Wb(49,"button",32),s.ec("click",(function(e){return t.onSubmit()})),s.Ic(50,"Submit"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(12),s.oc("formGroup",t.formTournament),s.Db(3),s.oc("ngIf",t.formTournament.get("name").touched&&t.formTournament.get("name").invalid),s.Db(5),s.oc("ngIf",t.formTournament.get("entryFee").touched&&t.formTournament.get("entryFee").invalid),s.Db(3),s.oc("ngIf",t.formTournament.get("startDate").touched&&t.formTournament.get("startDate").invalid),s.Db(8),s.oc("ngForOf",t.players),s.Db(1),s.oc("ngIf",t.formTournament.get("numberOfPlayer").touched&&t.formTournament.get("numberOfPlayer").invalid),s.Db(1),s.oc("ngIf",t.imageSrc),s.Db(10),s.oc("ngIf",t.formTournament.get("banner").touched&&t.formTournament.get("banner").invalid),s.Db(1),s.oc("ngIf",t.error),s.Db(5),s.oc("disabled",!t.fb))},directives:[i.w,i.p,i.i,m.b,f.b,i.c,i.o,i.g,r.m,i.s,h.a,r.l,g.b,p.b,v.n],encapsulation:2}),D),C=n("Ouoq"),O=(n("ip79"),n("vDyb")),P=n("I/3d");function R(e,t){if(1&e){var n=s.Xb();s.Wb(0,"button",23),s.ec("click",(function(e){s.zc(n);var t=s.ic().$implicit;return s.ic().winner(t)})),s.Ic(1,"Declare Winner"),s.Vb()}}var S=function(e){return["../../user-detail",e]};function T(e,t){if(1&e&&(s.Wb(0,"div",13),s.Wb(1,"div",17),s.Wb(2,"div",18),s.Wb(3,"div",6),s.Wb(4,"i",7),s.Ic(5,"person"),s.Vb(),s.Vb(),s.Gc(6,R,2,0,"button",19),s.Wb(7,"h2",20),s.Ic(8),s.Vb(),s.Vb(),s.Wb(9,"div",21),s.Wb(10,"div",22),s.Wb(11,"i",7),s.Ic(12,"update"),s.Vb(),s.Ic(13," Just Updated "),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=t.$implicit,a=s.ic();s.Db(6),s.oc("ngIf","pending"===a.singleItem.status),s.Db(1),s.oc("routerLink",s.sc(4,S,n.id)),s.Db(1),s.Lc("",n.firstName," ",n.lastName,"")}}function N(e,t){if(1&e){var n=s.Xb();s.Wb(0,"button",24),s.ec("click",(function(e){return s.zc(n),s.ic().draw()})),s.Ic(1,"Declare As Draw"),s.Vb()}}function F(e,t){if(1&e){var n=s.Xb();s.Wb(0,"button",25),s.ec("click",(function(e){return s.zc(n),s.ic().end()})),s.Ic(1,"End Tournament"),s.Vb()}}var L,z=((L=function(){function e(t,n,a,r,i,o){_classCallCheck(this,e),this.tournamentService=t,this.userService=n,this.storage=a,this.route=r,this.messagingService=i,this.firestore=o,this.tournaments=[],this.arr=[],this.tokenArray=[],this.userWithTokenArray=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.matchId=t.id})),this.route.queryParams.subscribe((function(t){e.tournamentId=t.tournamentId})),this.matches=this.tournamentService.getMatches(this.tournamentId).subscribe((function(t){e.item=t.reduce((function(e,t){var n=t.payload.doc.id;return!(n in e)&&e.push(Object.assign({id:n},t.payload.doc.data())),e}),[]),console.log(e.item,"============"),e.singleItem=e.item.find((function(t){return t.id==e.matchId})),e.tournamentService.getUserMatches(e.matchId).subscribe((function(t){e.userMatches=t,e.filteredMatches=e.userMatches.filter((function(t){return t.matchId==e.matchId})),e.userService.getUsers().subscribe((function(t){e.users=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.userData=e.users.map((function(t){return e.filteredMatches.map((function(n){return t.id===n.userId&&!e.arr.some((function(e){return e.id===t.id}))&&e.arr.push(t)}))})),e.users.map((function(t){t.deviceToken&&(e.tokenArray.push(t.deviceToken),e.userWithTokenArray.push(t.id))}))}))})),e.tournamentService.getSingleMatch(e.tournamentId,e.matchId).subscribe((function(t){console.log(t),e.singleMatch=Object.assign({id:t.payload.id},t.payload.data())})),e.tournamentService.getTournaments().subscribe((function(t){e.tournament=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.singleTournament=e.tournament.find((function(t){return t.id=e.tournamentId}))}))}))}},{key:"getUser",value:function(e){var t=this;return this.tournamentService.getUser(e).subscribe((function(e){t.oneUser=Object.assign({id:e.payload.id},e.payload.data())})),this.oneUser}},{key:"end",value:function(){3===this.singleMatch.bracket&&this.tournamentService.winner(this.tournamentId,this.matchId,{endTournamentDate:Date.now()})}},{key:"winner",value:function(e){console.log(this.arr),this.looser=this.arr.find((function(t){return t.id!==e.id})),this.tournamentService.winner(this.tournamentId,this.matchId,{userId:e.id,status:"completed",winner:e.firstName}),this.tournamentService.winUser(e.id,{wins:e.wins?e.wins+1:1}),this.tournamentService.winUser(this.looser.id,{loses:this.looser.loses?this.looser.loses+1:1}),3===this.singleMatch.bracket&&this.tournamentService.winUser(e.id,{winnings:e.winnings?e.winnings+this.singleTournament.prizeMoney:this.singleTournament.prizeMoney}),this.sendNotification(),this.ngOnInit()}},{key:"draw",value:function(){var e=this;this.tournamentService.winner(this.tournamentId,this.matchId,{status:"completed"}),this.arr.map((function(t){e.tournamentService.winUser(t.id,{draws:t.draws?t.draws+1:1})}))}},{key:"sendNotification",value:function(){var e=this;this.tokenArray.map((function(t,n){e.messagingService.requestPermission(e.userWithTokenArray[n],{title:"Winner",body:"You have won the match"}),e.messagingService.receiveMessage(),e.message=e.messagingService.currentMessage,e.tournamentService.postMessages({notification:{title:"Winner",body:"You have won the match"},to:t}).subscribe((function(e){console.log(e,"llllllllllll")})),e.messagingService.updateToken(e.userWithTokenArray[n],t)}),(function(e){console.error("Unable to get permission to notify.",e)}))}},{key:"onFileSelected",value:function(e){var t=this,n=Date.now(),a=e.target.files[0],r=this.storage.ref("RoomsImages/".concat(n));this.storage.upload("RoomsImages/".concat(n),a).snapshotChanges().pipe(Object(l.a)((function(){t.downloadURL=r.getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.fb=e),console.log(t.fb)}))}))).subscribe((function(e){e&&console.log(e)}))}},{key:"onSubmit",value:function(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then((function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||L)(s.Qb(c.a),s.Qb(C.a),s.Qb(u.a),s.Qb(a.a),s.Qb(O.a),s.Qb(P.a))},L.\u0275cmp=s.Kb({type:L,selectors:[["app-dashboard"]],decls:45,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],["mat-raised-button","","class","btn btn-danger","style","margin-left: 300px;",3,"click",4,"ngIf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"col-12"],[2,"width","500px","height","200px",3,"src"],["mat-raised-button","","class","btn btn-danger",3,"click",4,"ngIf"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],["mat-raised-button","","class","btn btn-warning",3,"click",4,"ngIf"],[1,"card-title",3,"routerLink"],[1,"card-footer"],[1,"stats"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-raised-button","",1,"btn","btn-danger",2,"margin-left","300px",3,"click"],["mat-raised-button","",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"div",5),s.Wb(6,"div",6),s.Wb(7,"i",7),s.Ic(8,"sports_soccer"),s.Vb(),s.Vb(),s.Wb(9,"h4",8),s.Ic(10,"Match Details"),s.Vb(),s.Vb(),s.Wb(11,"div",9),s.Wb(12,"div",2),s.Gc(13,T,14,6,"div",10),s.Vb(),s.Wb(14,"div",2),s.Gc(15,N,2,0,"button",11),s.Vb(),s.Wb(16,"div",12),s.Wb(17,"div",2),s.Wb(18,"h3",13),s.Wb(19,"strong"),s.Ic(20,"Match Start Time:"),s.Vb(),s.Ic(21),s.Vb(),s.Wb(22,"h3",13),s.Wb(23,"strong"),s.Ic(24,"Match End Time:"),s.Vb(),s.Ic(25),s.Vb(),s.Vb(),s.Wb(26,"div",2),s.Wb(27,"h3",14),s.Wb(28,"strong"),s.Ic(29,"Winner:"),s.Vb(),s.Ic(30),s.Vb(),s.Vb(),s.Wb(31,"div",2),s.Wb(32,"h3",14),s.Wb(33,"strong"),s.Ic(34,"Proof 1:"),s.Vb(),s.Ic(35," \xa0"),s.Vb(),s.Rb(36,"img",15),s.Vb(),s.Wb(37,"div",2),s.Wb(38,"h3",14),s.Wb(39,"strong"),s.Ic(40,"Proof 2:"),s.Vb(),s.Ic(41," \xa0"),s.Vb(),s.Rb(42,"img",15),s.Vb(),s.Wb(43,"div",2),s.Gc(44,F,2,0,"button",16),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(13),s.oc("ngForOf",t.arr),s.Db(2),s.oc("ngIf","pending"===t.singleItem.status),s.Db(6),s.Kc(" \xa0",t.singleItem.startTime,""),s.Db(4),s.Kc(" \xa0",t.singleItem.endTime,""),s.Db(5),s.Kc(" \xa0",t.singleItem.winner,""),s.Db(6),s.pc("src",t.singleItem.proof1,s.Bc),s.Db(6),s.pc("src",t.singleItem.proof2,s.Bc),s.Db(2),s.oc("ngIf",3===t.singleItem.bracket))},directives:[r.l,r.m,a.g,p.b],encapsulation:2}),L),U=n("0IaG"),J=function(e){return["../../match-detail",e]},j=function(e){return{tournamentId:e}};function G(e,t){if(1&e&&(s.Wb(0,"div",12),s.Wb(1,"div",73),s.Wb(2,"div",74),s.Wb(3,"div",6),s.Wb(4,"i",7),s.Ic(5,"sports_soccer"),s.Vb(),s.Vb(),s.Wb(6,"h2",75),s.Ic(7),s.Vb(),s.Vb(),s.Wb(8,"div",76),s.Wb(9,"div",77),s.Wb(10,"i",7),s.Ic(11,"update"),s.Vb(),s.Ic(12," Just Updated "),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=t.$implicit,a=s.ic();s.Db(6),s.oc("routerLink",s.sc(3,J,n.id))("queryParams",s.sc(5,j,a.id)),s.Db(1),s.Kc("Match ",n.Match,"")}}function K(e,t){if(1&e&&(s.Wb(0,"div",12),s.Wb(1,"div",73),s.Wb(2,"div",74),s.Wb(3,"div",6),s.Wb(4,"i",7),s.Ic(5,"sports_soccer"),s.Vb(),s.Vb(),s.Wb(6,"h2",75),s.Ic(7),s.Vb(),s.Vb(),s.Wb(8,"div",76),s.Wb(9,"div",77),s.Wb(10,"i",7),s.Ic(11,"update"),s.Vb(),s.Ic(12," Just Updated "),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=t.$implicit,a=s.ic();s.Db(6),s.oc("routerLink",s.sc(3,J,n.id))("queryParams",s.sc(5,j,a.id)),s.Db(1),s.Kc("Match ",n.Match,"")}}var Q=function(){return["../../user-notification"]},A=function(e){return{userId:e}};function q(e,t){if(1&e&&(s.Wb(0,"tr"),s.Wb(1,"td",70),s.Ic(2),s.Vb(),s.Wb(3,"td",70),s.Ic(4),s.Vb(),s.Wb(5,"td",70),s.Ic(6),s.Vb(),s.Wb(7,"td",70),s.Ic(8),s.Vb(),s.Wb(9,"td",70),s.Ic(10),s.Vb(),s.Wb(11,"td",78),s.Wb(12,"button",79),s.Wb(13,"i",80),s.Ic(14,"notifications"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=t.$implicit;s.Db(2),s.Jc(n.firstName),s.Db(2),s.Jc(n.lastName),s.Db(2),s.Jc(n.psnName),s.Db(2),s.Jc(n.phoneNumber),s.Db(2),s.Jc(n.email),s.Db(2),s.Gb("btn btn-success ",n[5],""),s.Db(1),s.oc("routerLink",s.rc(10,Q))("queryParams",s.sc(11,A,n.id))}}var B,Y=((B=function(){function e(t,n,a,r,i,o,b){_classCallCheck(this,e),this.tournamentService=t,this.userService=n,this.storage=a,this.messagingService=r,this.route=i,this.firestore=o,this.dialog=b,this.tournaments=[],this.userMatches=[],this.userData=[],this.tokenArray=[],this.userWithTokenArray=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formMessageUser=new i.h({title:new i.e(""),body:new i.e("")}),this.tableData1={headerRow:["First Name","Last Name","PSN Name","Phone Number","Email",""]},this.route.params.subscribe((function(t){e.id=t.id})),this.matches=this.tournamentService.getMatches(this.id).subscribe((function(t){e.match=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.pendingMatches=e.match.filter((function(e){return"pending"==e.status})),e.completeMatches=e.match.filter((function(e){return"completed"==e.status})),e.match.map((function(t){e.tournamentService.getUserMatches(t.id).subscribe((function(n){n.length>0&&e.userMatches.push(n),e.users=e.userService.getUsers().subscribe((function(n){e.users=n.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.users.map((function(n){return e.userMatches.length>0&&e.userMatches.map((function(a){return a.map((function(a){n.id==a.userId&&e.userData.push(Object.assign({match:t},n))}))}))})),e.userData.map((function(t){t.deviceToken&&(e.tokenArray.push(t.deviceToken),e.userWithTokenArray.push(t.id))})),console.log(e.tokenArray,"----------")}))}))}))})),this.tournamentService.getTournaments().subscribe((function(t){e.item=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.singleItem=e.item.find((function(t){return t.id=e.id})),console.log(e.matches)}))}},{key:"sendNotification",value:function(){var e=this;this.tokenArray.map((function(t,n){e.messagingService.requestPermission(e.userWithTokenArray[n],e.formMessageUser.value),e.messagingService.receiveMessage(),e.message=e.messagingService.currentMessage,e.tournamentService.postMessages({notification:{title:e.formMessageUser.value.title,body:e.formMessageUser.value.body},to:t}).subscribe((function(e){console.log(e,"llllllllllll")})),e.messagingService.updateToken(e.userWithTokenArray[n],t)}),(function(e){console.error("Unable to get permission to notify.",e)}))}},{key:"getUser",value:function(e){return this.userData&&this.userData.filter((function(t){return t.id==e}))}},{key:"onFileSelected",value:function(e){var t=this,n=Date.now(),a=e.target.files[0],r=this.storage.ref("RoomsImages/".concat(n));this.storage.upload("RoomsImages/".concat(n),a).snapshotChanges().pipe(Object(l.a)((function(){t.downloadURL=r.getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.fb=e),console.log(t.fb)}))}))).subscribe((function(e){e&&console.log(e)}))}},{key:"onSubmit",value:function(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then((function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||B)(s.Qb(c.a),s.Qb(C.a),s.Qb(u.a),s.Qb(O.a),s.Qb(a.a),s.Qb(P.a),s.Qb(U.a))},B.\u0275cmp=s.Kb({type:B,selectors:[["app-dashboard"]],decls:300,vars:34,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"col-12","mx-4"],[1,"col-12",2,"width","900px","height","250px","max-width","900px",3,"src"],[1,"col-6"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Title","type","text","formControlName","title"],["matInput","","placeholder","Body","type","text","formControlName","body"],["mat-raised-button","",1,"btn","btn-success",3,"click"],[1,"card-header"],["role","tablist",1,"nav","nav-pills","nav-pills-rose"],[1,"nav-item"],["data-toggle","tab","href","#link1","role","tablist",1,"nav-link","active"],["data-toggle","tab","href","#link2","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link3","role","tablist",1,"nav-link"],["data-toggle","tab","href","#link4","role","tablist",1,"nav-link"],[1,"tab-content","tab-space"],["id","link1",1,"tab-pane","active"],["class","col-6",4,"ngFor","ngForOf"],["id","link2",1,"tab-pane"],[1,"tournament-bracket","tournament-bracket--rounded"],[1,"tournament-bracket__round","tournament-bracket__round--quarterfinals"],[1,"tournament-bracket__list"],[1,"tournament-bracket__item"],["tabindex","0",1,"tournament-bracket__match"],[1,"tournament-bracket__table"],[1,"tournament-bracket__caption"],["datetime","1998-02-18"],[1,"sr-only"],[1,"tournament-bracket__content"],[1,"tournament-bracket__team","tournament-bracket__team--winner"],[1,"tournament-bracket__country"],["title","Canada",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ca"],[1,"tournament-bracket__score"],[1,"tournament-bracket__number"],[1,"tournament-bracket__team"],["title","Kazakhstan",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-kz"],["title","Czech Republic",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-cz"],["title","Unitede states of America",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-us"],["title","Finland",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-fi"],["title","Sweden",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-se"],["title","Russia",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-ru"],["title","Belarus",1,"tournament-bracket__code"],["aria-label","Flag",1,"tournament-bracket__flag","flag-icon","flag-icon-by"],[1,"tournament-bracket__round","tournament-bracket__round--semifinals"],["datetime","1998-02-20"],[1,"tournament-bracket__round","tournament-bracket__round--gold"],["datetime","1998-02-22"],["aria-label","Gold medal",1,"tournament-bracket__medal","tournament-bracket__medal--gold","fa","fa-trophy"],["aria-label","Silver medal",1,"tournament-bracket__medal","tournament-bracket__medal--silver","fa","fa-trophy"],["id","link3",1,"tab-pane"],["id","link4",1,"tab-pane"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink","queryParams"],[1,"card-footer"],[1,"stats"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink","queryParams"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"div",5),s.Wb(6,"div",6),s.Wb(7,"i",7),s.Ic(8,"emoji_events"),s.Vb(),s.Vb(),s.Wb(9,"h4",8),s.Ic(10,"Tournament Details"),s.Vb(),s.Vb(),s.Wb(11,"div",9),s.Wb(12,"div",2),s.Wb(13,"div",10),s.Wb(14,"div",2),s.Rb(15,"img",11),s.Vb(),s.Wb(16,"div",2),s.Wb(17,"h3",12),s.Wb(18,"strong"),s.Ic(19,"Tournament Name:"),s.Vb(),s.Ic(20),s.Vb(),s.Wb(21,"h3",12),s.Wb(22,"strong"),s.Ic(23,"Description:"),s.Vb(),s.Ic(24),s.Vb(),s.Vb(),s.Wb(25,"div",2),s.Wb(26,"h3",12),s.Wb(27,"strong"),s.Ic(28,"Entry Fee:"),s.Vb(),s.Ic(29),s.Vb(),s.Wb(30,"h3",12),s.Wb(31,"strong"),s.Ic(32,"Start Date:"),s.Vb(),s.Ic(33),s.Vb(),s.Vb(),s.Wb(34,"div",2),s.Wb(35,"h3",12),s.Wb(36,"strong"),s.Ic(37,"Prize Money:"),s.Vb(),s.Ic(38),s.Vb(),s.Wb(39,"h3",12),s.Wb(40,"strong"),s.Ic(41,"Number Of players:"),s.Vb(),s.Ic(42),s.Vb(),s.Vb(),s.Wb(43,"h3"),s.Ic(44,"\xa0Want to Send Notification to all users?"),s.Vb(),s.Wb(45,"form",13),s.Wb(46,"mat-form-field",14),s.Rb(47,"input",15),s.Vb(),s.Wb(48,"mat-form-field",14),s.Rb(49,"input",16),s.Vb(),s.Vb(),s.Wb(50,"button",17),s.ec("click",(function(e){return t.sendNotification()})),s.Ic(51,"Send Notification To all Users"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(52,"div",4),s.Rb(53,"div",18),s.Wb(54,"div",9),s.Wb(55,"ul",19),s.Wb(56,"li",20),s.Wb(57,"a",21),s.Ic(58," Completed Matches "),s.Vb(),s.Vb(),s.Wb(59,"li",20),s.Wb(60,"a",22),s.Ic(61," LeaderBoard "),s.Vb(),s.Vb(),s.Wb(62,"li",20),s.Wb(63,"a",23),s.Ic(64," Pending Matches "),s.Vb(),s.Vb(),s.Wb(65,"li",20),s.Wb(66,"a",24),s.Ic(67," Players "),s.Vb(),s.Vb(),s.Vb(),s.Wb(68,"div",25),s.Wb(69,"div",26),s.Wb(70,"div",2),s.Gc(71,G,13,7,"div",27),s.Vb(),s.Vb(),s.Wb(72,"div",28),s.Wb(73,"div"),s.Wb(74,"div",29),s.Wb(75,"div",30),s.Wb(76,"ul",31),s.Wb(77,"li",32),s.Wb(78,"div",33),s.Wb(79,"table",34),s.Wb(80,"caption",35),s.Wb(81,"time",36),s.Ic(82,"18 February 1998"),s.Vb(),s.Vb(),s.Wb(83,"thead",37),s.Wb(84,"tr"),s.Wb(85,"th"),s.Ic(86,"Country"),s.Vb(),s.Wb(87,"th"),s.Ic(88,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(89,"tbody",38),s.Wb(90,"tr",39),s.Wb(91,"td",40),s.Wb(92,"abbr",41),s.Ic(93),s.Vb(),s.Rb(94,"span",42),s.Vb(),s.Wb(95,"td",43),s.Wb(96,"span",44),s.Ic(97,"4"),s.Vb(),s.Vb(),s.Vb(),s.Wb(98,"tr",45),s.Wb(99,"td",40),s.Wb(100,"abbr",46),s.Ic(101),s.Vb(),s.Rb(102,"span",47),s.Vb(),s.Wb(103,"td",43),s.Wb(104,"span",44),s.Ic(105,"1"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(106,"li",32),s.Wb(107,"div",33),s.Wb(108,"table",34),s.Wb(109,"caption",35),s.Wb(110,"time",36),s.Ic(111,"18 February 1998"),s.Vb(),s.Vb(),s.Wb(112,"thead",37),s.Wb(113,"tr"),s.Wb(114,"th"),s.Ic(115,"Country"),s.Vb(),s.Wb(116,"th"),s.Ic(117,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(118,"tbody",38),s.Wb(119,"tr",39),s.Wb(120,"td",40),s.Wb(121,"abbr",48),s.Ic(122),s.Vb(),s.Rb(123,"span",49),s.Vb(),s.Wb(124,"td",43),s.Wb(125,"span",44),s.Ic(126,"4"),s.Vb(),s.Vb(),s.Vb(),s.Wb(127,"tr",45),s.Wb(128,"td",40),s.Wb(129,"abbr",50),s.Ic(130),s.Vb(),s.Rb(131,"span",51),s.Vb(),s.Wb(132,"td",43),s.Wb(133,"span",44),s.Ic(134,"1"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(135,"li",32),s.Wb(136,"div",33),s.Wb(137,"table",34),s.Wb(138,"caption",35),s.Wb(139,"time",36),s.Ic(140,"18 February 1998"),s.Vb(),s.Vb(),s.Wb(141,"thead",37),s.Wb(142,"tr"),s.Wb(143,"th"),s.Ic(144,"Country"),s.Vb(),s.Wb(145,"th"),s.Ic(146,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(147,"tbody",38),s.Wb(148,"tr",39),s.Wb(149,"td",40),s.Wb(150,"abbr",52),s.Ic(151),s.Vb(),s.Rb(152,"span",53),s.Vb(),s.Wb(153,"td",43),s.Wb(154,"span",44),s.Ic(155,"2"),s.Vb(),s.Vb(),s.Vb(),s.Wb(156,"tr",45),s.Wb(157,"td",40),s.Wb(158,"abbr",54),s.Ic(159),s.Vb(),s.Rb(160,"span",55),s.Vb(),s.Wb(161,"td",43),s.Wb(162,"span",44),s.Ic(163,"1"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(164,"li",32),s.Wb(165,"div",33),s.Wb(166,"table",34),s.Wb(167,"caption",35),s.Wb(168,"time",36),s.Ic(169,"18 February 1998"),s.Vb(),s.Vb(),s.Wb(170,"thead",37),s.Wb(171,"tr"),s.Wb(172,"th"),s.Ic(173,"Country"),s.Vb(),s.Wb(174,"th"),s.Ic(175,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(176,"tbody",38),s.Wb(177,"tr",39),s.Wb(178,"td",40),s.Wb(179,"abbr",56),s.Ic(180),s.Vb(),s.Rb(181,"span",57),s.Vb(),s.Wb(182,"td",43),s.Wb(183,"span",44),s.Ic(184,"4"),s.Vb(),s.Vb(),s.Vb(),s.Wb(185,"tr",45),s.Wb(186,"td",40),s.Wb(187,"abbr",58),s.Ic(188),s.Vb(),s.Rb(189,"span",59),s.Vb(),s.Wb(190,"td",43),s.Wb(191,"span",44),s.Ic(192,"1"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(193,"div",60),s.Wb(194,"ul",31),s.Wb(195,"li",32),s.Wb(196,"div",33),s.Wb(197,"table",34),s.Wb(198,"caption",35),s.Wb(199,"time",61),s.Ic(200,"20 February 1998"),s.Vb(),s.Vb(),s.Wb(201,"thead",37),s.Wb(202,"tr"),s.Wb(203,"th"),s.Ic(204,"Country"),s.Vb(),s.Wb(205,"th"),s.Ic(206,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(207,"tbody",38),s.Wb(208,"tr",45),s.Wb(209,"td",40),s.Rb(210,"span",42),s.Vb(),s.Wb(211,"td",43),s.Wb(212,"span",44),s.Ic(213,"1"),s.Vb(),s.Vb(),s.Vb(),s.Wb(214,"tr",39),s.Wb(215,"td",40),s.Rb(216,"span",49),s.Vb(),s.Wb(217,"td",43),s.Wb(218,"span",44),s.Ic(219,"2"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(220,"li",32),s.Wb(221,"div",33),s.Wb(222,"table",34),s.Wb(223,"caption",35),s.Wb(224,"time",61),s.Ic(225,"20 February 1998"),s.Vb(),s.Vb(),s.Wb(226,"thead",37),s.Wb(227,"tr"),s.Wb(228,"th"),s.Ic(229,"Country"),s.Vb(),s.Wb(230,"th"),s.Ic(231,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(232,"tbody",38),s.Wb(233,"tr",45),s.Wb(234,"td",40),s.Rb(235,"span",53),s.Vb(),s.Wb(236,"td",43),s.Wb(237,"span",44),s.Ic(238,"4"),s.Vb(),s.Vb(),s.Vb(),s.Wb(239,"tr",39),s.Wb(240,"td",40),s.Rb(241,"span",57),s.Vb(),s.Wb(242,"td",43),s.Wb(243,"span",44),s.Ic(244,"7"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(245,"div",62),s.Wb(246,"ul",31),s.Wb(247,"li",32),s.Wb(248,"div",33),s.Wb(249,"table",34),s.Wb(250,"caption",35),s.Wb(251,"time",63),s.Ic(252,"22 February 1998"),s.Vb(),s.Vb(),s.Wb(253,"thead",37),s.Wb(254,"tr"),s.Wb(255,"th"),s.Ic(256,"Country"),s.Vb(),s.Wb(257,"th"),s.Ic(258,"Score"),s.Vb(),s.Vb(),s.Vb(),s.Wb(259,"tbody",38),s.Wb(260,"tr",39),s.Wb(261,"td",40),s.Rb(262,"abbr",48),s.Rb(263,"span",49),s.Vb(),s.Wb(264,"td",43),s.Wb(265,"span",44),s.Ic(266,"1"),s.Vb(),s.Rb(267,"span",64),s.Vb(),s.Vb(),s.Wb(268,"tr",45),s.Wb(269,"td",40),s.Rb(270,"abbr",56),s.Rb(271,"span",57),s.Vb(),s.Wb(272,"td",43),s.Wb(273,"span",44),s.Ic(274,"0"),s.Vb(),s.Rb(275,"span",65),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(276,"div",66),s.Wb(277,"div",2),s.Gc(278,K,13,7,"div",27),s.Vb(),s.Vb(),s.Wb(279,"div",67),s.Wb(280,"div",68),s.Wb(281,"table",69),s.Wb(282,"thead"),s.Wb(283,"tr"),s.Wb(284,"th",70),s.Ic(285),s.Vb(),s.Wb(286,"th",70),s.Ic(287),s.Vb(),s.Wb(288,"th",70),s.Ic(289),s.Vb(),s.Wb(290,"th",70),s.Ic(291),s.Vb(),s.Wb(292,"th",70),s.Ic(293),s.Vb(),s.Wb(294,"th",70),s.Ic(295),s.Vb(),s.Wb(296,"th",71),s.Ic(297),s.Vb(),s.Vb(),s.Vb(),s.Wb(298,"tbody"),s.Gc(299,q,15,13,"tr",72),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(15),s.pc("src",null==t.singleItem?null:t.singleItem.banner,s.Bc),s.Db(5),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.name,""),s.Db(4),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.description,""),s.Db(5),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.entryFee,""),s.Db(4),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.startDate,""),s.Db(5),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.prizeMoney,""),s.Db(4),s.Kc(" \xa0",null==t.singleItem?null:t.singleItem.numberOfPlayer,""),s.Db(3),s.oc("formGroup",t.formMessageUser),s.Db(26),s.oc("ngForOf",t.completeMatches),s.Db(22),s.Lc("",t.userData&&(null==t.userData[0]?null:t.userData[0].firstName)," ",t.userData&&(null==t.userData[0]?null:t.userData[0].lastName),""),s.Db(8),s.Lc("",t.userData&&(null==t.userData[1]?null:t.userData[1].firstName)," ",t.userData&&(null==t.userData[1]?null:t.userData[1].lastName),""),s.Db(21),s.Lc("",t.userData&&(null==t.userData[2]?null:t.userData[2].firstName)," ",t.userData&&(null==t.userData[2]?null:t.userData[2].lastName),""),s.Db(8),s.Lc("",t.userData&&(null==t.userData[3]?null:t.userData[3].firstName)," ",t.userData&&(null==t.userData[3]?null:t.userData[3].lastName),""),s.Db(21),s.Lc("",t.userData&&(null==t.userData[4]?null:t.userData[4].firstName)," ",t.userData&&(null==t.userData[4]?null:t.userData[4].lastName),""),s.Db(8),s.Lc("",t.userData&&(null==t.userData[5]?null:t.userData[5].firstName)," ",t.userData&&(null==t.userData[5]?null:t.userData[5].lastName),""),s.Db(21),s.Lc("",t.userData&&(null==t.userData[6]?null:t.userData[6].firstName)," ",t.userData&&(null==t.userData[6]?null:t.userData[6].lastName),""),s.Db(8),s.Lc("",t.userData&&(null==t.userData[7]?null:t.userData[7].firstName)," ",t.userData&&(null==t.userData[7]?null:t.userData[7].lastName),""),s.Db(90),s.oc("ngForOf",t.pendingMatches),s.Db(7),s.Jc(t.tableData1.headerRow[0]),s.Db(2),s.Jc(t.tableData1.headerRow[1]),s.Db(2),s.Jc(t.tableData1.headerRow[2]),s.Db(2),s.Jc(t.tableData1.headerRow[3]),s.Db(2),s.Jc(t.tableData1.headerRow[4]),s.Db(2),s.Jc(t.tableData1.headerRow[5]),s.Db(2),s.Jc(t.tableData1.headerRow[6]),s.Db(2),s.oc("ngForOf",t.userData))},directives:[i.w,i.p,i.i,m.b,f.b,i.c,i.o,i.g,p.b,r.l,a.g],styles:['@import"https://fonts.googleapis.com/css?family=Work+Sans:300,400,600,700&subset=latin-ext";\n@breakpoint-sm : 38em;@breakpoint-md : 52em;@breakpoint-lg : 72em;*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}html[_ngcontent-%COMP%]{font-size:15px}@media(min-width:576px){html[_ngcontent-%COMP%]{font-size:14px;font-size:15px;font-size:16px}}body[_ngcontent-%COMP%]{background-color:#f1f1f1;font-family:Work Sans,Helvetica Neue,Arial,sans-serif}.container[_ngcontent-%COMP%]{width:90%;min-width:18em;margin:20px auto}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5em}h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:2em}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.tournament-bracket[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media(min-width:576px){.tournament-bracket[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}}.tournament-bracket__round[_ngcontent-%COMP%]{display:block;margin-left:-3px;-webkit-box-flex:1;flex:1}.tournament-bracket__round-title[_ngcontent-%COMP%]{color:#9e9e9e;font-size:.95rem;font-weight:400;text-align:center;font-style:italic;margin-bottom:.5em}.tournament-bracket__list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-flow:row wrap;-webkit-box-pack:center;justify-content:center;height:100%;min-height:100%;border-bottom:1px dashed #e5e5e5;padding-bottom:2em;margin-bottom:2em;-webkit-transition:padding .2s ease-in-out,margin .2s ease-in-out;transition:padding .2s ease-in-out,margin .2s ease-in-out}@media(max-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{padding-bottom:1em;margin-bottom:1em}}@media(min-width:576px){.tournament-bracket__list[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0;border-right:1px dashed #e5e5e5;border-bottom:0}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__list[_ngcontent-%COMP%]{border:0}.tournament-bracket__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 1 auto;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:flex-start;position:relative;padding:2% 0;width:48%;-webkit-transition:padding .2s linear;transition:padding .2s linear}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-right:2%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n){margin-left:2%}.tournament-bracket__item[_ngcontent-%COMP%]:after{-webkit-transition:width .2s linear;transition:width .2s linear}@media(max-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin-left:0;margin-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1em;width:100%}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n), .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd){margin:0}.tournament-bracket__item[_ngcontent-%COMP%]:after{position:absolute;right:0;content:"";display:block;width:1em;height:45%;border-right:2px solid #9e9e9e}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(odd):after{border-top-right-radius:.6em}.tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__item[_ngcontent-%COMP%]:nth-child(2n):after{border-bottom-right-radius:.6em}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]{padding-right:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__item[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__round[_ngcontent-%COMP%]:nth-last-child(2)   .tournament-bracket__item[_ngcontent-%COMP%]:after{border-radius:0;border-right:0}}@media(min-width:576px){.tournament-bracket__item[_ngcontent-%COMP%]{padding:.5em 1.5em}.tournament-bracket__item[_ngcontent-%COMP%]:after{width:1.5em}}.tournament-bracket__match[_ngcontent-%COMP%]{display:-webkit-box;display:flex;width:100%;background-color:#fff;padding:1em;border:1px solid transparent;border-radius:.1em;box-shadow:0 2px 0 0 #e5e5e5;outline:none;cursor:pointer;-webkit-transition:padding .2s ease-in-out,border .2s linear;transition:padding .2s ease-in-out,border .2s linear}.tournament-bracket__match[_ngcontent-%COMP%]:focus{border-color:#2196f3}.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transition:all .2s linear;transition:all .2s linear}@media(max-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]{padding:.75em .5em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{position:absolute;left:0;z-index:1;content:"";display:block;width:1em;height:10%;border-left:2px solid #9e9e9e}.tournament-bracket__match[_ngcontent-%COMP%]:before{bottom:50%;border-bottom:2px solid #9e9e9e;-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:.6em}.tournament-bracket__match[_ngcontent-%COMP%]:after{top:50%;border-top:2px solid #9e9e9e;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.tournament-bracket--rounded[_ngcontent-%COMP%]   .tournament-bracket__match[_ngcontent-%COMP%]:after{border-top-left-radius:.6em}}@media(min-width:576px){.tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__match[_ngcontent-%COMP%]:before{width:1.5em}.tournament-bracket__match[_ngcontent-%COMP%]:before{-webkit-transform:translateY(1px);transform:translateY(1px)}.tournament-bracket__match[_ngcontent-%COMP%]:after{-webkit-transform:translateY(-1px);transform:translateY(-1px)}}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-left:0}.tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:before{border-bottom-left-radius:0}.tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:after, .tournament-bracket__round[_ngcontent-%COMP%]:first-child   .tournament-bracket__match[_ngcontent-%COMP%]:before, .tournament-bracket__round[_ngcontent-%COMP%]:last-child   .tournament-bracket__match[_ngcontent-%COMP%]:after{display:none}.tournament-bracket__content[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.tournament-bracket__content[_ngcontent-%COMP%]:after{content:":";width:1em;text-align:center;padding:.2em .1em}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]:after{-webkit-box-ordinal-group:2;order:1}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{width:50%;-webkit-box-ordinal-group:1;order:0;text-align:right}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child{-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2;-webkit-box-pack:end;justify-content:flex-end}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse;-webkit-box-align:end;align-items:flex-end}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:1;order:0}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-ordinal-group:3;order:2}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{width:50%;-webkit-box-ordinal-group:3;order:2;text-align:left}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child{-webkit-box-align:start;align-items:flex-start}}@media(min-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-pack:start;justify-content:flex-start}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__country[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start}}.tournament-bracket__content[_ngcontent-%COMP%]   .tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__code[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1}.tournament-bracket__table[_ngcontent-%COMP%]{width:100%}.tournament-bracket__caption[_ngcontent-%COMP%]{font-size:.8rem;color:#bdbdbd;font-weight:300;padding-bottom:.75em}.tournament-bracket__team[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;-webkit-box-pack:justify;justify-content:space-between}@media(min-width:576px){.tournament-bracket__team[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:reverse;flex-direction:column-reverse}}.tournament-bracket__country[_ngcontent-%COMP%]{font-size:.95rem;display:-webkit-box;display:flex;margin-top:.5em;-webkit-box-align:center;align-items:center}@media(max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{margin-top:0}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__country[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.tournament-bracket__country[_ngcontent-%COMP%]   .tournament-bracket__code[_ngcontent-%COMP%]{margin-top:.2em}}.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .5em;color:#212121;font-weight:600;text-transform:uppercase;border:0;text-decoration:none;cursor:help;-webkit-transition:padding .2s ease-in-out;transition:padding .2s ease-in-out}@media(max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0 .25em}}@media(min-width:576px)and (max-width:576px){.tournament-bracket__code[_ngcontent-%COMP%]{padding:0}}.tournament-bracket__score[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.tournament-bracket__team[_ngcontent-%COMP%]:first-child   .tournament-bracket__score[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;padding-left:.75em}.tournament-bracket__team[_ngcontent-%COMP%]:last-child   .tournament-bracket__score[_ngcontent-%COMP%]{padding-right:.75em}.tournament-bracket__number[_ngcontent-%COMP%]{display:inline-block;padding:.2em .4em;font-size:.95rem;background-color:#f5f5f5;border-bottom:.075em solid;border-color:spin(shade(#f5f5f5,10%),-10)}.tournament-bracket__team--winner[_ngcontent-%COMP%]   .tournament-bracket__number[_ngcontent-%COMP%]{background-color:#fff176;border-color:spin(shade(#fff176,2%),-10)}.tournament-bracket__medal[_ngcontent-%COMP%]{padding:0 .5em}.tournament-bracket__medal--gold[_ngcontent-%COMP%]{color:gold}.tournament-bracket__medal--silver[_ngcontent-%COMP%]{color:silver}.tournament-bracket__medal--bronze[_ngcontent-%COMP%]{color:#cd7f32}']}),B);function E(e,t){if(1&e&&(s.Wb(0,"mat-option",31),s.Ic(1),s.Vb()),2&e){var n=t.$implicit;s.oc("value",n.value),s.Db(1),s.Kc(" ",n.viewValue," ")}}var $,X=(($=function(){function e(t,n,a){_classCallCheck(this,e),this.tournamentService=t,this.storage=n,this.route=a,this.tournaments=[],this.players=[{value:"0",viewValue:"0"},{value:"1",viewValue:"1"},{value:"2",viewValue:"2"},{value:"3",viewValue:"3"},{value:"4",viewValue:"4"},{value:"5",viewValue:"5"},{value:"6",viewValue:"6"}]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.id=t.id})),this.formTournament=new i.h({name:new i.e(""),description:new i.e(""),entryFee:new i.e(""),startDate:new i.e(""),prizeMoney:new i.e(""),numberOfPlayer:new i.e(""),banner:new i.e("")}),this.tournamentService.getTournaments().subscribe((function(t){e.item=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),e.singleItem=e.item.find((function(t){return t.id=e.id})),e.formTournament.patchValue({name:e.singleItem.name,description:e.singleItem.description,entryFee:e.singleItem.entryFee,startDate:e.singleItem.startDate,prizeMoney:e.singleItem.prizeMoney,numberOfPlayer:e.singleItem.numberOfPlayer,banner:e.singleItem.banner}),console.log(t)}))}},{key:"onFileSelected",value:function(e){var t=this,n=Date.now(),a=e.target.files[0],r=this.storage.ref("RoomsImages/".concat(n));this.storage.upload("RoomsImages/".concat(n),a).snapshotChanges().pipe(Object(l.a)((function(){t.downloadURL=r.getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.fb=e),console.log(t.fb)}))}))).subscribe((function(e){e&&console.log(e)}))}},{key:"onSubmit",value:function(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then((function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||$)(s.Qb(c.a),s.Qb(u.a),s.Qb(a.a))},$.\u0275cmp=s.Kb({type:$,selectors:[["app-dashboard"]],decls:42,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Name","type","text","formControlName","name"],["matInput","","placeholder","Description","type","text","formControlName","description"],["matInput","","placeholder","Entry Fee","type","text","formControlName","entryFee"],["matInput","","type","datetime-local","placeholder","start date","formControlName","startDate"],["matInput","","placeholder","Prize Money","type","number","formControlName","prizeMoney"],["placeholder","Select Number of Players","name","numberOfPlayer","formControlName","numberOfPlayer"],[3,"value",4,"ngFor","ngForOf"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center","mt-4"],[1,"fileinput-new","thumbnail"],["src","./assets/img/image_placeholder.jpg","alt","..."],[1,"fileinput-preview","fileinput-exists","thumbnail"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","formControlName","banner",3,"change"],["href","#pablo","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"div",5),s.Wb(6,"div",6),s.Wb(7,"i",7),s.Ic(8,"emoji_events"),s.Vb(),s.Vb(),s.Wb(9,"h4",8),s.Ic(10,"Edit Tournament"),s.Vb(),s.Vb(),s.Wb(11,"div",9),s.Wb(12,"form",10),s.Wb(13,"mat-form-field",11),s.Rb(14,"input",12),s.Vb(),s.Wb(15,"mat-form-field",11),s.Rb(16,"input",13),s.Vb(),s.Wb(17,"mat-form-field",11),s.Rb(18,"input",14),s.Vb(),s.Wb(19,"mat-form-field"),s.Rb(20,"input",15),s.Vb(),s.Wb(21,"mat-form-field",11),s.Rb(22,"input",16),s.Vb(),s.Wb(23,"mat-select",17),s.Gc(24,E,2,2,"mat-option",18),s.Vb(),s.Wb(25,"div",19),s.Wb(26,"div",20),s.Rb(27,"img",21),s.Vb(),s.Rb(28,"div",22),s.Wb(29,"div"),s.Wb(30,"span",23),s.Wb(31,"span",24),s.Ic(32,"Select Banner"),s.Vb(),s.Wb(33,"span",25),s.Ic(34,"Change"),s.Vb(),s.Wb(35,"input",26),s.ec("change",(function(e){return t.onFileSelected(e)})),s.Vb(),s.Vb(),s.Wb(36,"a",27),s.Rb(37,"i",28),s.Ic(38," Remove"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(39,"div",29),s.Wb(40,"button",30),s.ec("click",(function(e){return t.onSubmit()})),s.Ic(41,"Submit"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(12),s.oc("formGroup",t.formTournament),s.Db(12),s.oc("ngForOf",t.players))},directives:[i.w,i.p,i.i,m.b,f.b,i.c,i.o,i.g,i.s,h.a,r.l,p.b,v.n],encapsulation:2}),$),H=function(e){return["../tournament-detail",e]},Z=function(e){return["../tournament-edit",e]};function ee(e,t){if(1&e){var n=s.Xb();s.Wb(0,"tr"),s.Wb(1,"td",16),s.Ic(2),s.Vb(),s.Wb(3,"td",16),s.Ic(4),s.Vb(),s.Wb(5,"td",16),s.Ic(6),s.Vb(),s.Wb(7,"td",16),s.Ic(8),s.Vb(),s.Wb(9,"td",16),s.Ic(10),s.Vb(),s.Wb(11,"td",16),s.Ic(12),s.Vb(),s.Wb(13,"td",16),s.Ic(14),s.Vb(),s.Wb(15,"td",16),s.Ic(16),s.Vb(),s.Wb(17,"td",13),s.Rb(18,"img",17),s.Vb(),s.Wb(19,"td",18),s.Wb(20,"button",19),s.Wb(21,"i",20),s.Ic(22,"edit"),s.Vb(),s.Vb(),s.Wb(23,"button",19),s.Wb(24,"i",21),s.ec("click",(function(e){s.zc(n);var a=t.$implicit;return s.ic().deleteTournament(a.id)})),s.Ic(25,"close"),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&e){var a=t.$implicit;s.Db(1),s.oc("routerLink",s.sc(24,H,a.id)),s.Db(1),s.Jc(a.name),s.Db(1),s.oc("routerLink",s.sc(26,H,a.id)),s.Db(1),s.Jc(a.description),s.Db(1),s.oc("routerLink",s.sc(28,H,a.id)),s.Db(1),s.Jc(a.entryFee),s.Db(1),s.oc("routerLink",s.sc(30,H,a.id)),s.Db(1),s.Jc(a.prizeMoney),s.Db(1),s.oc("routerLink",s.sc(32,H,a.id)),s.Db(1),s.Jc(a.secondPrizeMoney),s.Db(1),s.oc("routerLink",s.sc(34,H,a.id)),s.Db(1),s.Jc(a.thirdPrizeMoney),s.Db(1),s.oc("routerLink",s.sc(36,H,a.id)),s.Db(1),s.Jc(a.startDate),s.Db(1),s.oc("routerLink",s.sc(38,H,a.id)),s.Db(1),s.Jc(a.numberOfPlayer),s.Db(2),s.pc("src",a.banner,s.Bc),s.Db(2),s.Gb("btn btn-success ",a[5],""),s.Db(1),s.oc("routerLink",s.sc(40,Z,a.id)),s.Db(2),s.Gb("btn btn-danger ",a[5],"")}}var te=function(e){return["../../user-detail",e]};function ne(e,t){if(1&e&&(s.Wb(0,"div",12),s.Wb(1,"div",13),s.Wb(2,"div",14),s.Wb(3,"div",6),s.Wb(4,"i",7),s.Ic(5,"person"),s.Vb(),s.Vb(),s.Wb(6,"h2",15),s.Ic(7),s.Vb(),s.Vb(),s.Wb(8,"div",16),s.Wb(9,"div",17),s.Wb(10,"i",7),s.Ic(11,"update"),s.Vb(),s.Ic(12," Just Updated "),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=t.$implicit;s.Db(6),s.oc("routerLink",s.sc(3,te,n.id)),s.Db(1),s.Lc("",n.firstName," ",n.lastName,"")}}var ae,re,ie=[{path:"",children:[{path:"dashboard",component:M},{path:"tournament-list",component:(re=function(){function e(t){_classCallCheck(this,e),this.tournamentService=t,this.tournamentList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.tableData1={headerRow:["Name","Description","Entry Fee","First Prize Money","Second Prize Money","Third Prize Money","Start Date","Number Of players","Banner",""]},this.tournamentService.getTournaments().subscribe((function(t){e.item=t.map((function(e){return Object.assign({id:e.payload.doc.id},e.payload.doc.data())})),console.log(t)}))}},{key:"deleteTournament",value:function(e){this.tournamentService.deleteTournament(e)}}]),e}(),re.\u0275fac=function(e){return new(e||re)(s.Qb(c.a))},re.\u0275cmp=s.Kb({type:re,selectors:[["app-dashboard"]],decls:36,vars:9,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["mat-raised-button","","type","button","routerLink","../dashboard",1,"btn","btn-danger","text-right",2,"left","700px"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-center"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-center",3,"routerLink"],[2,"width","100px","height","50px",3,"src"],[1,"td-actions","text-right"],["mat-raised-button","","type","button"],[1,"material-icons",3,"routerLink"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"button",4),s.Ic(5,"Add Tournament"),s.Vb(),s.Wb(6,"div",5),s.Wb(7,"div",6),s.Wb(8,"div",7),s.Wb(9,"i",8),s.Ic(10,"emoji_events"),s.Vb(),s.Vb(),s.Wb(11,"h4",9),s.Ic(12,"Tournament List"),s.Vb(),s.Vb(),s.Wb(13,"div",10),s.Wb(14,"div",11),s.Wb(15,"table",12),s.Wb(16,"thead"),s.Wb(17,"tr"),s.Wb(18,"th",13),s.Ic(19),s.Vb(),s.Wb(20,"th",13),s.Ic(21),s.Vb(),s.Wb(22,"th",13),s.Ic(23),s.Vb(),s.Wb(24,"th",13),s.Ic(25),s.Vb(),s.Wb(26,"th",13),s.Ic(27),s.Vb(),s.Wb(28,"th",13),s.Ic(29),s.Vb(),s.Wb(30,"th",13),s.Ic(31),s.Vb(),s.Wb(32,"th",14),s.Ic(33),s.Vb(),s.Vb(),s.Vb(),s.Wb(34,"tbody"),s.Gc(35,ee,26,42,"tr",15),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(19),s.Jc(t.tableData1.headerRow[0]),s.Db(2),s.Jc(t.tableData1.headerRow[1]),s.Db(2),s.Jc(t.tableData1.headerRow[2]),s.Db(2),s.Jc(t.tableData1.headerRow[3]),s.Db(2),s.Jc(t.tableData1.headerRow[4]),s.Db(2),s.Jc(t.tableData1.headerRow[5]),s.Db(2),s.Jc(t.tableData1.headerRow[6]),s.Db(2),s.Jc(t.tableData1.headerRow[7]),s.Db(2),s.oc("ngForOf",t.item))},directives:[p.b,a.g,r.l],encapsulation:2}),re)},{path:"tournament-edit/:id",component:X},{path:"tournament-detail/:id",component:Y},{path:"match-detail/:id",component:z},{path:"user-detail/:id",component:(ae=function(){function e(t,n,a,r,i){_classCallCheck(this,e),this.tournamentService=t,this.userService=n,this.storage=a,this.route=r,this.firestore=i,this.tournaments=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.userId=t.id})),this.tournamentService.getUser(this.userId).subscribe((function(t){e.user=Object.assign({id:t.payload.id},t.payload.data())}))}},{key:"onFileSelected",value:function(e){var t=this,n=Date.now(),a=e.target.files[0],r=this.storage.ref("RoomsImages/".concat(n));this.storage.upload("RoomsImages/".concat(n),a).snapshotChanges().pipe(Object(l.a)((function(){t.downloadURL=r.getDownloadURL(),t.downloadURL.subscribe((function(e){e&&(t.fb=e),console.log(t.fb)}))}))).subscribe((function(e){e&&console.log(e)}))}},{key:"onSubmit",value:function(){console.log(this.formTournament.value),this.formTournament.value.banner="https://firebasestorage.googleapis.com/v0/b/tournament-62907.appspot.com/o/RoomsImages%2F1601405964819?alt=media&token=c903c131-4493-4daa-a7c7-ee54a35b6196",this.tournamentService.editTournament(this.singleItem.id,this.formTournament.value).then((function(e){console.log(e)}))}}]),e}(),ae.\u0275fac=function(e){return new(e||ae)(s.Qb(c.a),s.Qb(C.a),s.Qb(u.a),s.Qb(a.a),s.Qb(P.a))},ae.\u0275cmp=s.Kb({type:ae,selectors:[["app-dashboard"]],decls:42,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-11"],[1,"card"],[1,"card-header","card-header-rose","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-12","mx-4"],[1,"col-6"],[1,"card","card-stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-title",3,"routerLink"],[1,"card-footer"],[1,"stats"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"div",5),s.Wb(6,"div",6),s.Wb(7,"i",7),s.Ic(8,"person"),s.Vb(),s.Vb(),s.Wb(9,"h4",8),s.Ic(10,"Player Details"),s.Vb(),s.Vb(),s.Wb(11,"div",9),s.Wb(12,"div",2),s.Gc(13,ne,13,5,"div",10),s.Vb(),s.Wb(14,"div",11),s.Wb(15,"div",2),s.Wb(16,"h3",12),s.Wb(17,"strong"),s.Ic(18,"First Name:"),s.Vb(),s.Ic(19),s.Vb(),s.Wb(20,"h3",12),s.Wb(21,"strong"),s.Ic(22,"Last Name:"),s.Vb(),s.Ic(23),s.Vb(),s.Vb(),s.Wb(24,"div",2),s.Wb(25,"h3",12),s.Wb(26,"strong"),s.Ic(27,"Email:"),s.Vb(),s.Ic(28),s.Vb(),s.Wb(29,"h3",12),s.Wb(30,"strong"),s.Ic(31,"PSN Username:"),s.Vb(),s.Ic(32),s.Vb(),s.Vb(),s.Wb(33,"div",2),s.Wb(34,"h3",12),s.Wb(35,"strong"),s.Ic(36,"Phone Number:"),s.Vb(),s.Ic(37),s.Vb(),s.Wb(38,"h3",12),s.Wb(39,"strong"),s.Ic(40,"Password:"),s.Vb(),s.Ic(41),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Db(13),s.oc("ngForOf",t.userData),s.Db(6),s.Kc(" \xa0",t.user.firstName,""),s.Db(4),s.Kc(" \xa0",t.user.lastName,""),s.Db(5),s.Kc(" \xa0",t.user.email,""),s.Db(4),s.Kc(" \xa0",t.user.psnName,""),s.Db(5),s.Kc(" \xa0",t.user.phoneNumber,""),s.Db(4),s.Kc(" \xa0",t.user.password,""))},directives:[r.l,a.g],encapsulation:2}),ae)}]}];n.d(t,"DashboardModule",(function(){return be}));var oe,be=((oe=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:oe}),oe.\u0275inj=s.Nb({factory:function(e){return new(e||oe)},imports:[[r.c,a.j.forChild(ie),i.j,o.a,b.b]]}),oe)},ip79:function(e,t){}}]);